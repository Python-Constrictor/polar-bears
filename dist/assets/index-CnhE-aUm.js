(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function e(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function t(r){if(r.ep)return;r.ep=!0;const l=e(r);fetch(r.href,l)}})();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let kn,Gn;function qn(){return{geminiUrl:kn,vertexUrl:Gn}}function Bn(o,n,e){var t,r,l;if(!(!((t=o.httpOptions)===null||t===void 0)&&t.baseUrl)){const a=qn();return o.vertexai?(r=a.vertexUrl)!==null&&r!==void 0?r:n:(l=a.geminiUrl)!==null&&l!==void 0?l:e}return o.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class B{}function T(o,n){const e=/\{([^}]+)\}/g;return o.replace(e,(t,r)=>{if(Object.prototype.hasOwnProperty.call(n,r)){const l=n[r];return l!=null?String(l):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function s(o,n,e){for(let l=0;l<n.length-1;l++){const a=n[l];if(a.endsWith("[]")){const u=a.slice(0,-2);if(!(u in o))if(Array.isArray(e))o[u]=Array.from({length:e.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(o[u])){const d=o[u];if(Array.isArray(e))for(let f=0;f<d.length;f++){const c=d[f];s(c,n.slice(l+1),e[f])}else for(const f of d)s(f,n.slice(l+1),e)}return}else if(a.endsWith("[0]")){const u=a.slice(0,-3);u in o||(o[u]=[{}]);const d=o[u];s(d[0],n.slice(l+1),e);return}(!o[a]||typeof o[a]!="object")&&(o[a]={}),o=o[a]}const t=n[n.length-1],r=o[t];if(r!==void 0){if(!e||typeof e=="object"&&Object.keys(e).length===0||e===r)return;if(typeof r=="object"&&typeof e=="object"&&r!==null&&e!==null)Object.assign(r,e);else throw new Error(`Cannot set value for an existing key. Key: ${t}`)}else o[t]=e}function i(o,n){try{if(n.length===1&&n[0]==="_self")return o;for(let e=0;e<n.length;e++){if(typeof o!="object"||o===null)return;const t=n[e];if(t.endsWith("[]")){const r=t.slice(0,-2);if(r in o){const l=o[r];return Array.isArray(l)?l.map(a=>i(a,n.slice(e+1))):void 0}else return}else o=o[t]}return o}catch(e){if(e instanceof TypeError)return;throw e}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function I(o,n){if(!n||typeof n!="string")throw new Error("model is required and must be a string");if(o.isVertexAI()){if(n.startsWith("publishers/")||n.startsWith("projects/")||n.startsWith("models/"))return n;if(n.indexOf("/")>=0){const e=n.split("/",2);return`publishers/${e[0]}/models/${e[1]}`}else return`publishers/google/models/${n}`}else return n.startsWith("models/")||n.startsWith("tunedModels/")?n:`models/${n}`}function vn(o,n){const e=I(o,n);return e?e.startsWith("publishers/")&&o.isVertexAI()?`projects/${o.getProject()}/locations/${o.getLocation()}/${e}`:e.startsWith("models/")&&o.isVertexAI()?`projects/${o.getProject()}/locations/${o.getLocation()}/publishers/google/${e}`:e:""}function _n(o,n){return Array.isArray(n)?n.map(e=>W(o,e)):[W(o,n)]}function W(o,n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function Hn(o,n){const e=W(o,n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Jn(o,n){const e=W(o,n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function ge(o,n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function In(o,n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>ge(o,e)):[ge(o,n)]}function ne(o){return o!=null&&typeof o=="object"&&"parts"in o&&Array.isArray(o.parts)}function he(o){return o!=null&&typeof o=="object"&&"functionCall"in o}function ye(o){return o!=null&&typeof o=="object"&&"functionResponse"in o}function P(o,n){if(n==null)throw new Error("ContentUnion is required");return ne(n)?n:{role:"user",parts:In(o,n)}}function Sn(o,n){if(!n)return[];if(o.isVertexAI()&&Array.isArray(n))return n.flatMap(e=>{const t=P(o,e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]});if(o.isVertexAI()){const e=P(o,n);return e.parts&&e.parts.length>0&&e.parts[0].text!==void 0?[e.parts[0].text]:[]}return Array.isArray(n)?n.map(e=>P(o,e)):[P(o,n)]}function x(o,n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(he(n)||ye(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[P(o,n)]}const e=[],t=[],r=ne(n[0]);for(const l of n){const a=ne(l);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(l);else{if(he(l)||ye(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(l)}}return r||e.push({role:"user",parts:In(o,t)}),e}function An(o,n){return n}function Mn(o,n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function O(o,n){return n}function X(o,n){if(!Array.isArray(n))throw new Error("tool is required and must be an array of Tools");return n}function Yn(o,n,e,t=1){const r=!n.startsWith(`${e}/`)&&n.split("/").length===t;return o.isVertexAI()?n.startsWith("projects/")?n:n.startsWith("locations/")?`projects/${o.getProject()}/${n}`:n.startsWith(`${e}/`)?`projects/${o.getProject()}/locations/${o.getLocation()}/${n}`:r?`projects/${o.getProject()}/locations/${o.getLocation()}/${e}/${n}`:n:r?`${e}/${n}`:n}function w(o,n){if(typeof n!="string")throw new Error("name must be a string");return Yn(o,n,"cachedContents")}function Pn(o,n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function N(o,n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}function $n(o){return o!=null&&typeof o=="object"&&"name"in o}function Kn(o){return o!=null&&typeof o=="object"&&"video"in o}function Wn(o){return o!=null&&typeof o=="object"&&"uri"in o}function Rn(o,n){var e;let t;if($n(n)&&(t=n.name),!(Wn(n)&&(t=n.uri,t===void 0))&&!(Kn(n)&&(t=(e=n.video)===null||e===void 0?void 0:e.uri,t===void 0))){if(typeof n=="string"&&(t=n),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){const l=t.split("files/")[1].match(/[a-z0-9]+/);if(l===null)throw new Error(`Could not extract file name from URI ${t}`);t=l[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function Dn(o,n){let e;return o.isVertexAI()?e=n?"publishers/google/models":"models":e=n?"models":"tunedModels",e}function xn(o,n){for(const e of["models","tunedModels","publisherModels"])if(zn(n,e))return n[e];return[]}function zn(o,n){return o!==null&&typeof o=="object"&&n in o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bn(o,n){const e={};if(i(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=i(n,["data"]);t!=null&&s(e,["data"],t);const r=i(n,["mimeType"]);return r!=null&&s(e,["mimeType"],r),e}function On(o,n){const e={};if(i(n,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const t=i(n,["thought"]);t!=null&&s(e,["thought"],t);const r=i(n,["inlineData"]);r!=null&&s(e,["inlineData"],bn(o,r));const l=i(n,["codeExecutionResult"]);l!=null&&s(e,["codeExecutionResult"],l);const a=i(n,["executableCode"]);a!=null&&s(e,["executableCode"],a);const u=i(n,["fileData"]);u!=null&&s(e,["fileData"],u);const d=i(n,["functionCall"]);d!=null&&s(e,["functionCall"],d);const f=i(n,["functionResponse"]);f!=null&&s(e,["functionResponse"],f);const c=i(n,["text"]);return c!=null&&s(e,["text"],c),e}function Te(o,n){const e={},t=i(n,["parts"]);if(t!=null){let l=t;Array.isArray(l)&&(l=l.map(a=>On(o,a))),s(e,["parts"],l)}const r=i(n,["role"]);return r!=null&&s(e,["role"],r),e}function Xn(){return{}}function Qn(o,n){const e={},t=i(n,["mode"]);t!=null&&s(e,["mode"],t);const r=i(n,["dynamicThreshold"]);return r!=null&&s(e,["dynamicThreshold"],r),e}function Zn(o,n){const e={},t=i(n,["dynamicRetrievalConfig"]);return t!=null&&s(e,["dynamicRetrievalConfig"],Qn(o,t)),e}function jn(o,n){const e={};if(i(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");i(n,["googleSearch"])!=null&&s(e,["googleSearch"],Xn());const r=i(n,["googleSearchRetrieval"]);if(r!=null&&s(e,["googleSearchRetrieval"],Zn(o,r)),i(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(i(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const l=i(n,["codeExecution"]);l!=null&&s(e,["codeExecution"],l);const a=i(n,["functionDeclarations"]);return a!=null&&s(e,["functionDeclarations"],a),e}function et(o,n){const e={},t=i(n,["mode"]);t!=null&&s(e,["mode"],t);const r=i(n,["allowedFunctionNames"]);return r!=null&&s(e,["allowedFunctionNames"],r),e}function nt(o,n){const e={},t=i(n,["functionCallingConfig"]);if(t!=null&&s(e,["functionCallingConfig"],et(o,t)),i(n,["retrievalConfig"])!==void 0)throw new Error("retrievalConfig parameter is not supported in Gemini API.");return e}function tt(o,n,e){const t={},r=i(n,["ttl"]);e!==void 0&&r!=null&&s(e,["ttl"],r);const l=i(n,["expireTime"]);e!==void 0&&l!=null&&s(e,["expireTime"],l);const a=i(n,["displayName"]);e!==void 0&&a!=null&&s(e,["displayName"],a);const u=i(n,["contents"]);if(e!==void 0&&u!=null){let p=x(o,u);Array.isArray(p)&&(p=p.map(m=>Te(o,m))),s(e,["contents"],p)}const d=i(n,["systemInstruction"]);e!==void 0&&d!=null&&s(e,["systemInstruction"],Te(o,P(o,d)));const f=i(n,["tools"]);if(e!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(m=>jn(o,m))),s(e,["tools"],p)}const c=i(n,["toolConfig"]);return e!==void 0&&c!=null&&s(e,["toolConfig"],nt(o,c)),t}function ot(o,n){const e={},t=i(n,["model"]);t!=null&&s(e,["model"],vn(o,t));const r=i(n,["config"]);return r!=null&&s(e,["config"],tt(o,r,e)),e}function it(o,n){const e={},t=i(n,["name"]);t!=null&&s(e,["_url","name"],w(o,t));const r=i(n,["config"]);return r!=null&&s(e,["config"],r),e}function rt(o,n){const e={},t=i(n,["name"]);t!=null&&s(e,["_url","name"],w(o,t));const r=i(n,["config"]);return r!=null&&s(e,["config"],r),e}function st(o,n,e){const t={},r=i(n,["ttl"]);e!==void 0&&r!=null&&s(e,["ttl"],r);const l=i(n,["expireTime"]);return e!==void 0&&l!=null&&s(e,["expireTime"],l),t}function lt(o,n){const e={},t=i(n,["name"]);t!=null&&s(e,["_url","name"],w(o,t));const r=i(n,["config"]);return r!=null&&s(e,["config"],st(o,r,e)),e}function at(o,n,e){const t={},r=i(n,["pageSize"]);e!==void 0&&r!=null&&s(e,["_query","pageSize"],r);const l=i(n,["pageToken"]);return e!==void 0&&l!=null&&s(e,["_query","pageToken"],l),t}function ut(o,n){const e={},t=i(n,["config"]);return t!=null&&s(e,["config"],at(o,t,e)),e}function ft(o,n){const e={},t=i(n,["displayName"]);t!=null&&s(e,["displayName"],t);const r=i(n,["data"]);r!=null&&s(e,["data"],r);const l=i(n,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function dt(o,n){const e={},t=i(n,["videoMetadata"]);t!=null&&s(e,["videoMetadata"],t);const r=i(n,["thought"]);r!=null&&s(e,["thought"],r);const l=i(n,["inlineData"]);l!=null&&s(e,["inlineData"],ft(o,l));const a=i(n,["codeExecutionResult"]);a!=null&&s(e,["codeExecutionResult"],a);const u=i(n,["executableCode"]);u!=null&&s(e,["executableCode"],u);const d=i(n,["fileData"]);d!=null&&s(e,["fileData"],d);const f=i(n,["functionCall"]);f!=null&&s(e,["functionCall"],f);const c=i(n,["functionResponse"]);c!=null&&s(e,["functionResponse"],c);const p=i(n,["text"]);return p!=null&&s(e,["text"],p),e}function Ce(o,n){const e={},t=i(n,["parts"]);if(t!=null){let l=t;Array.isArray(l)&&(l=l.map(a=>dt(o,a))),s(e,["parts"],l)}const r=i(n,["role"]);return r!=null&&s(e,["role"],r),e}function ct(){return{}}function pt(o,n){const e={},t=i(n,["mode"]);t!=null&&s(e,["mode"],t);const r=i(n,["dynamicThreshold"]);return r!=null&&s(e,["dynamicThreshold"],r),e}function mt(o,n){const e={},t=i(n,["dynamicRetrievalConfig"]);return t!=null&&s(e,["dynamicRetrievalConfig"],pt(o,t)),e}function gt(){return{}}function ht(o,n){const e={},t=i(n,["apiKeyString"]);return t!=null&&s(e,["apiKeyString"],t),e}function yt(o,n){const e={},t=i(n,["apiKeyConfig"]);t!=null&&s(e,["apiKeyConfig"],ht(o,t));const r=i(n,["authType"]);r!=null&&s(e,["authType"],r);const l=i(n,["googleServiceAccountConfig"]);l!=null&&s(e,["googleServiceAccountConfig"],l);const a=i(n,["httpBasicAuthConfig"]);a!=null&&s(e,["httpBasicAuthConfig"],a);const u=i(n,["oauthConfig"]);u!=null&&s(e,["oauthConfig"],u);const d=i(n,["oidcConfig"]);return d!=null&&s(e,["oidcConfig"],d),e}function Tt(o,n){const e={},t=i(n,["authConfig"]);return t!=null&&s(e,["authConfig"],yt(o,t)),e}function Ct(o,n){const e={},t=i(n,["retrieval"]);t!=null&&s(e,["retrieval"],t),i(n,["googleSearch"])!=null&&s(e,["googleSearch"],ct());const l=i(n,["googleSearchRetrieval"]);l!=null&&s(e,["googleSearchRetrieval"],mt(o,l)),i(n,["enterpriseWebSearch"])!=null&&s(e,["enterpriseWebSearch"],gt());const u=i(n,["googleMaps"]);u!=null&&s(e,["googleMaps"],Tt(o,u));const d=i(n,["codeExecution"]);d!=null&&s(e,["codeExecution"],d);const f=i(n,["functionDeclarations"]);return f!=null&&s(e,["functionDeclarations"],f),e}function Et(o,n){const e={},t=i(n,["mode"]);t!=null&&s(e,["mode"],t);const r=i(n,["allowedFunctionNames"]);return r!=null&&s(e,["allowedFunctionNames"],r),e}function vt(o,n){const e={},t=i(n,["latitude"]);t!=null&&s(e,["latitude"],t);const r=i(n,["longitude"]);return r!=null&&s(e,["longitude"],r),e}function _t(o,n){const e={},t=i(n,["latLng"]);return t!=null&&s(e,["latLng"],vt(o,t)),e}function It(o,n){const e={},t=i(n,["functionCallingConfig"]);t!=null&&s(e,["functionCallingConfig"],Et(o,t));const r=i(n,["retrievalConfig"]);return r!=null&&s(e,["retrievalConfig"],_t(o,r)),e}function St(o,n,e){const t={},r=i(n,["ttl"]);e!==void 0&&r!=null&&s(e,["ttl"],r);const l=i(n,["expireTime"]);e!==void 0&&l!=null&&s(e,["expireTime"],l);const a=i(n,["displayName"]);e!==void 0&&a!=null&&s(e,["displayName"],a);const u=i(n,["contents"]);if(e!==void 0&&u!=null){let p=x(o,u);Array.isArray(p)&&(p=p.map(m=>Ce(o,m))),s(e,["contents"],p)}const d=i(n,["systemInstruction"]);e!==void 0&&d!=null&&s(e,["systemInstruction"],Ce(o,P(o,d)));const f=i(n,["tools"]);if(e!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(m=>Ct(o,m))),s(e,["tools"],p)}const c=i(n,["toolConfig"]);return e!==void 0&&c!=null&&s(e,["toolConfig"],It(o,c)),t}function At(o,n){const e={},t=i(n,["model"]);t!=null&&s(e,["model"],vn(o,t));const r=i(n,["config"]);return r!=null&&s(e,["config"],St(o,r,e)),e}function Mt(o,n){const e={},t=i(n,["name"]);t!=null&&s(e,["_url","name"],w(o,t));const r=i(n,["config"]);return r!=null&&s(e,["config"],r),e}function Pt(o,n){const e={},t=i(n,["name"]);t!=null&&s(e,["_url","name"],w(o,t));const r=i(n,["config"]);return r!=null&&s(e,["config"],r),e}function Rt(o,n,e){const t={},r=i(n,["ttl"]);e!==void 0&&r!=null&&s(e,["ttl"],r);const l=i(n,["expireTime"]);return e!==void 0&&l!=null&&s(e,["expireTime"],l),t}function Dt(o,n){const e={},t=i(n,["name"]);t!=null&&s(e,["_url","name"],w(o,t));const r=i(n,["config"]);return r!=null&&s(e,["config"],Rt(o,r,e)),e}function xt(o,n,e){const t={},r=i(n,["pageSize"]);e!==void 0&&r!=null&&s(e,["_query","pageSize"],r);const l=i(n,["pageToken"]);return e!==void 0&&l!=null&&s(e,["_query","pageToken"],l),t}function wt(o,n){const e={},t=i(n,["config"]);return t!=null&&s(e,["config"],xt(o,t,e)),e}function $(o,n){const e={},t=i(n,["name"]);t!=null&&s(e,["name"],t);const r=i(n,["displayName"]);r!=null&&s(e,["displayName"],r);const l=i(n,["model"]);l!=null&&s(e,["model"],l);const a=i(n,["createTime"]);a!=null&&s(e,["createTime"],a);const u=i(n,["updateTime"]);u!=null&&s(e,["updateTime"],u);const d=i(n,["expireTime"]);d!=null&&s(e,["expireTime"],d);const f=i(n,["usageMetadata"]);return f!=null&&s(e,["usageMetadata"],f),e}function Nt(){return{}}function Vt(o,n){const e={},t=i(n,["nextPageToken"]);t!=null&&s(e,["nextPageToken"],t);const r=i(n,["cachedContents"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(a=>$(o,a))),s(e,["cachedContents"],l)}return e}function K(o,n){const e={},t=i(n,["name"]);t!=null&&s(e,["name"],t);const r=i(n,["displayName"]);r!=null&&s(e,["displayName"],r);const l=i(n,["model"]);l!=null&&s(e,["model"],l);const a=i(n,["createTime"]);a!=null&&s(e,["createTime"],a);const u=i(n,["updateTime"]);u!=null&&s(e,["updateTime"],u);const d=i(n,["expireTime"]);d!=null&&s(e,["expireTime"],d);const f=i(n,["usageMetadata"]);return f!=null&&s(e,["usageMetadata"],f),e}function Lt(){return{}}function Ut(o,n){const e={},t=i(n,["nextPageToken"]);t!=null&&s(e,["nextPageToken"],t);const r=i(n,["cachedContents"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(a=>K(o,a))),s(e,["cachedContents"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var L;(function(o){o.PAGED_ITEM_BATCH_JOBS="batchJobs",o.PAGED_ITEM_MODELS="models",o.PAGED_ITEM_TUNING_JOBS="tuningJobs",o.PAGED_ITEM_FILES="files",o.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(L||(L={}));class Q{constructor(n,e,t,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=e,this.init(n,t,r)}init(n,e,t){var r,l;this.nameInternal=n,this.pageInternal=e[this.nameInternal]||[],this.idxInternal=0;let a={config:{}};t?typeof t=="object"?a=Object.assign({},t):a=t:a={config:{}},a.config&&(a.config.pageToken=e.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(l=(r=a.config)===null||r===void 0?void 0:r.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(n){this.init(this.nameInternal,n,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(n){return this.pageInternal[n]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const n=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:n,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const n=await this.requestInternal(this.params);return this.initNextPage(n),this.page}hasNextPage(){var n;return((n=this.params.config)===null||n===void 0?void 0:n.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ee;(function(o){o.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",o.OUTCOME_OK="OUTCOME_OK",o.OUTCOME_FAILED="OUTCOME_FAILED",o.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Ee||(Ee={}));var ve;(function(o){o.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",o.PYTHON="PYTHON"})(ve||(ve={}));var _e;(function(o){o.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",o.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",o.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",o.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",o.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",o.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(_e||(_e={}));var Ie;(function(o){o.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",o.SEVERITY="SEVERITY",o.PROBABILITY="PROBABILITY"})(Ie||(Ie={}));var Se;(function(o){o.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",o.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",o.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",o.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",o.BLOCK_NONE="BLOCK_NONE",o.OFF="OFF"})(Se||(Se={}));var Ae;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.MODE_DYNAMIC="MODE_DYNAMIC"})(Ae||(Ae={}));var Me;(function(o){o.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",o.NO_AUTH="NO_AUTH",o.API_KEY_AUTH="API_KEY_AUTH",o.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",o.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",o.OAUTH="OAUTH",o.OIDC_AUTH="OIDC_AUTH"})(Me||(Me={}));var Pe;(function(o){o.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",o.STRING="STRING",o.NUMBER="NUMBER",o.INTEGER="INTEGER",o.BOOLEAN="BOOLEAN",o.ARRAY="ARRAY",o.OBJECT="OBJECT"})(Pe||(Pe={}));var Re;(function(o){o.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",o.STOP="STOP",o.MAX_TOKENS="MAX_TOKENS",o.SAFETY="SAFETY",o.RECITATION="RECITATION",o.LANGUAGE="LANGUAGE",o.OTHER="OTHER",o.BLOCKLIST="BLOCKLIST",o.PROHIBITED_CONTENT="PROHIBITED_CONTENT",o.SPII="SPII",o.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",o.IMAGE_SAFETY="IMAGE_SAFETY"})(Re||(Re={}));var De;(function(o){o.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",o.NEGLIGIBLE="NEGLIGIBLE",o.LOW="LOW",o.MEDIUM="MEDIUM",o.HIGH="HIGH"})(De||(De={}));var xe;(function(o){o.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",o.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",o.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",o.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",o.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(xe||(xe={}));var we;(function(o){o.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",o.SAFETY="SAFETY",o.OTHER="OTHER",o.BLOCKLIST="BLOCKLIST",o.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(we||(we={}));var Ne;(function(o){o.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",o.ON_DEMAND="ON_DEMAND",o.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Ne||(Ne={}));var z;(function(o){o.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",o.TEXT="TEXT",o.IMAGE="IMAGE",o.AUDIO="AUDIO"})(z||(z={}));var Ve;(function(o){o.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",o.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",o.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",o.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Ve||(Ve={}));var te;(function(o){o.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",o.JOB_STATE_QUEUED="JOB_STATE_QUEUED",o.JOB_STATE_PENDING="JOB_STATE_PENDING",o.JOB_STATE_RUNNING="JOB_STATE_RUNNING",o.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",o.JOB_STATE_FAILED="JOB_STATE_FAILED",o.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",o.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",o.JOB_STATE_PAUSED="JOB_STATE_PAUSED",o.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",o.JOB_STATE_UPDATING="JOB_STATE_UPDATING",o.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(te||(te={}));var Le;(function(o){o.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",o.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",o.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",o.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",o.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",o.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",o.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Le||(Le={}));var Ue;(function(o){o.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",o.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",o.BALANCED="BALANCED",o.PRIORITIZE_COST="PRIORITIZE_COST"})(Ue||(Ue={}));var Fe;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.MODE_DYNAMIC="MODE_DYNAMIC"})(Fe||(Fe={}));var ke;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.AUTO="AUTO",o.ANY="ANY",o.NONE="NONE"})(ke||(ke={}));var Ge;(function(o){o.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",o.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",o.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",o.BLOCK_NONE="BLOCK_NONE"})(Ge||(Ge={}));var qe;(function(o){o.DONT_ALLOW="DONT_ALLOW",o.ALLOW_ADULT="ALLOW_ADULT",o.ALLOW_ALL="ALLOW_ALL"})(qe||(qe={}));var Be;(function(o){o.auto="auto",o.en="en",o.ja="ja",o.ko="ko",o.hi="hi"})(Be||(Be={}));var He;(function(o){o.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",o.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",o.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",o.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",o.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(He||(He={}));var Je;(function(o){o.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",o.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",o.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",o.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Je||(Je={}));var Ye;(function(o){o.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",o.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",o.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",o.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Ye||(Ye={}));var $e;(function(o){o.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",o.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",o.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",o.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",o.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",o.EDIT_MODE_STYLE="EDIT_MODE_STYLE",o.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",o.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})($e||($e={}));var Ke;(function(o){o.STATE_UNSPECIFIED="STATE_UNSPECIFIED",o.PROCESSING="PROCESSING",o.ACTIVE="ACTIVE",o.FAILED="FAILED"})(Ke||(Ke={}));var We;(function(o){o.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",o.UPLOADED="UPLOADED",o.GENERATED="GENERATED"})(We||(We={}));var ze;(function(o){o.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",o.TEXT="TEXT",o.IMAGE="IMAGE",o.VIDEO="VIDEO",o.AUDIO="AUDIO",o.DOCUMENT="DOCUMENT"})(ze||(ze={}));var be;(function(o){o.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",o.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",o.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(be||(be={}));var Oe;(function(o){o.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",o.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",o.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Oe||(Oe={}));var Xe;(function(o){o.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",o.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",o.NO_INTERRUPTION="NO_INTERRUPTION"})(Xe||(Xe={}));var Qe;(function(o){o.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",o.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",o.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Qe||(Qe={}));class H{get text(){var n,e,t,r,l,a,u,d;if(((r=(t=(e=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||e===void 0?void 0:e.content)===null||t===void 0?void 0:t.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",c=!1;const p=[];for(const m of(d=(u=(a=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[g,h]of Object.entries(m))g!=="text"&&g!=="thought"&&(h!==null||h!==void 0)&&p.push(g);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;c=!0,f+=m.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?f:void 0}get data(){var n,e,t,r,l,a,u,d;if(((r=(t=(e=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||e===void 0?void 0:e.content)===null||t===void 0?void 0:t.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const c=[];for(const p of(d=(u=(a=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[m,g]of Object.entries(p))m!=="inlineData"&&(g!==null||g!==void 0)&&c.push(m);p.inlineData&&typeof p.inlineData.data=="string"&&(f+=atob(p.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var n,e,t,r,l,a,u,d;if(((r=(t=(e=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||e===void 0?void 0:e.content)===null||t===void 0?void 0:t.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(d=(u=(a=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var n,e,t,r,l,a,u,d,f;if(((r=(t=(e=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||e===void 0?void 0:e.content)===null||t===void 0?void 0:t.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(d=(u=(a=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((c==null?void 0:c.length)!==0)return(f=c==null?void 0:c[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var n,e,t,r,l,a,u,d,f;if(((r=(t=(e=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||e===void 0?void 0:e.content)===null||t===void 0?void 0:t.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(d=(u=(a=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((c==null?void 0:c.length)!==0)return(f=c==null?void 0:c[0])===null||f===void 0?void 0:f.output}}class Ze{}class je{}class Ft{}class kt{}class en{}class nn{}class tn{}class Gt{}class on{}class rn{}class sn{}class qt{}class oe{constructor(n){const e={};for(const t of n.headers.entries())e[t[0]]=t[1];this.headers=e,this.responseInternal=n}json(){return this.responseInternal.json()}}class Bt{}class Ht{}class Jt{get text(){var n,e,t;let r="",l=!1;const a=[];for(const u of(t=(e=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||e===void 0?void 0:e.parts)!==null&&t!==void 0?t:[]){for(const[d,f]of Object.entries(u))d!=="text"&&d!=="thought"&&f!==null&&a.push(d);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;l=!0,r+=u.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?r:void 0}get data(){var n,e,t;let r="";const l=[];for(const a of(t=(e=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||e===void 0?void 0:e.parts)!==null&&t!==void 0?t:[]){for(const[u,d]of Object.entries(a))u!=="inlineData"&&d!==null&&l.push(u);a.inlineData&&typeof a.inlineData.data=="string"&&(r+=atob(a.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yt extends B{constructor(n){super(),this.apiClient=n,this.list=async(e={})=>new Q(L.PAGED_ITEM_CACHED_CONTENTS,t=>this.listInternal(t),await this.listInternal(e),e)}async create(n){var e,t,r,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const f=At(this.apiClient,n);return u=T("cachedContents",f._url),d=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(t=n.config)===null||t===void 0?void 0:t.abortSignal}).then(c=>c.json()),a.then(c=>K(this.apiClient,c))}else{const f=ot(this.apiClient,n);return u=T("cachedContents",f._url),d=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(c=>c.json()),a.then(c=>$(this.apiClient,c))}}async get(n){var e,t,r,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const f=Mt(this.apiClient,n);return u=T("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(t=n.config)===null||t===void 0?void 0:t.abortSignal}).then(c=>c.json()),a.then(c=>K(this.apiClient,c))}else{const f=it(this.apiClient,n);return u=T("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(c=>c.json()),a.then(c=>$(this.apiClient,c))}}async delete(n){var e,t,r,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const f=Pt(this.apiClient,n);return u=T("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(t=n.config)===null||t===void 0?void 0:t.abortSignal}).then(c=>c.json()),a.then(()=>{const c=Lt(),p=new rn;return Object.assign(p,c),p})}else{const f=rt(this.apiClient,n);return u=T("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(c=>c.json()),a.then(()=>{const c=Nt(),p=new rn;return Object.assign(p,c),p})}}async update(n){var e,t,r,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const f=Dt(this.apiClient,n);return u=T("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(t=n.config)===null||t===void 0?void 0:t.abortSignal}).then(c=>c.json()),a.then(c=>K(this.apiClient,c))}else{const f=lt(this.apiClient,n);return u=T("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(c=>c.json()),a.then(c=>$(this.apiClient,c))}}async listInternal(n){var e,t,r,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const f=wt(this.apiClient,n);return u=T("cachedContents",f._url),d=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(t=n.config)===null||t===void 0?void 0:t.abortSignal}).then(c=>c.json()),a.then(c=>{const p=Ut(this.apiClient,c),m=new sn;return Object.assign(m,p),m})}else{const f=ut(this.apiClient,n);return u=T("cachedContents",f._url),d=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(c=>c.json()),a.then(c=>{const p=Vt(this.apiClient,c),m=new sn;return Object.assign(m,p),m})}}}function ln(o){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&o[n],t=0;if(e)return e.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&t>=o.length&&(o=void 0),{value:o&&o[t++],done:!o}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function M(o){return this instanceof M?(this.v=o,this):new M(o)}function b(o,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e.apply(o,n||[]),r,l=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",a),r[Symbol.asyncIterator]=function(){return this},r;function a(g){return function(h){return Promise.resolve(h).then(g,p)}}function u(g,h){t[g]&&(r[g]=function(y){return new Promise(function(C,v){l.push([g,y,C,v])>1||d(g,y)})},h&&(r[g]=h(r[g])))}function d(g,h){try{f(t[g](h))}catch(y){m(l[0][3],y)}}function f(g){g.value instanceof M?Promise.resolve(g.value.v).then(c,p):m(l[0][2],g)}function c(g){d("next",g)}function p(g){d("throw",g)}function m(g,h){g(h),l.shift(),l.length&&d(l[0][0],l[0][1])}}function ie(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=o[Symbol.asyncIterator],e;return n?n.call(o):(o=typeof ln=="function"?ln(o):o[Symbol.iterator](),e={},t("next"),t("throw"),t("return"),e[Symbol.asyncIterator]=function(){return this},e);function t(l){e[l]=o[l]&&function(a){return new Promise(function(u,d){a=o[l](a),r(u,d,a.done,a.value)})}}function r(l,a,u,d){Promise.resolve(d).then(function(f){l({value:f,done:u})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $t(o){var n;if(o.candidates==null||o.candidates.length===0)return!1;const e=(n=o.candidates[0])===null||n===void 0?void 0:n.content;return e===void 0?!1:wn(e)}function wn(o){if(o.parts===void 0||o.parts.length===0)return!1;for(const n of o.parts)if(n===void 0||Object.keys(n).length===0||n.text!==void 0&&n.text==="")return!1;return!0}function Kt(o){if(o.length!==0){if(o[0].role!=="user")throw new Error("History must start with a user turn.");for(const n of o)if(n.role!=="user"&&n.role!=="model")throw new Error(`Role must be user or model, but got ${n.role}.`)}}function Wt(o){if(o===void 0||o.length===0)return[];const n=[],e=o.length;let t=0,r=o[0];for(;t<e;)if(o[t].role==="user")r=o[t],t++;else{const l=[];let a=!0;for(;t<e&&o[t].role==="model";)l.push(o[t]),a&&!wn(o[t])&&(a=!1),t++;a&&(n.push(r),n.push(...l))}return n}class zt{constructor(n,e){this.modelsModule=n,this.apiClient=e}create(n){return new bt(this.apiClient,this.modelsModule,n.model,n.config,n.history)}}class bt{constructor(n,e,t,r={},l=[]){this.apiClient=n,this.modelsModule=e,this.model=t,this.config=r,this.history=l,this.sendPromise=Promise.resolve(),Kt(l)}async sendMessage(n){var e;await this.sendPromise;const t=P(this.apiClient,n.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(t),config:(e=n.config)!==null&&e!==void 0?e:this.config});return this.sendPromise=(async()=>{var l,a;const d=(a=(l=(await r).candidates)===null||l===void 0?void 0:l[0])===null||a===void 0?void 0:a.content,f=d?[d]:[];this.recordHistory(t,f)})(),await this.sendPromise,r}async sendMessageStream(n){var e;await this.sendPromise;const t=P(this.apiClient,n.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(t),config:(e=n.config)!==null&&e!==void 0?e:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const l=await r;return this.processStreamResponse(l,t)}getHistory(n=!1){return n?Wt(this.history):this.history}processStreamResponse(n,e){var t,r;return b(this,arguments,function*(){var a,u,d,f;const c=[];try{for(var p=!0,m=ie(n),g;g=yield M(m.next()),a=g.done,!a;p=!0){f=g.value,p=!1;const h=f;if($t(h)){const y=(r=(t=h.candidates)===null||t===void 0?void 0:t[0])===null||r===void 0?void 0:r.content;y!==void 0&&c.push(y)}yield yield M(h)}}catch(h){u={error:h}}finally{try{!p&&!a&&(d=m.return)&&(yield M(d.call(m)))}finally{if(u)throw u.error}}this.recordHistory(e,c)})}recordHistory(n,e){let t=[];e.length>0&&e.every(r=>r.role==="model")?t=e:t.push({role:"model",parts:[]}),this.history.push(n),this.history.push(...t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ot(o,n,e){const t={},r=i(n,["pageSize"]);e!==void 0&&r!=null&&s(e,["_query","pageSize"],r);const l=i(n,["pageToken"]);return e!==void 0&&l!=null&&s(e,["_query","pageToken"],l),t}function Xt(o,n){const e={},t=i(n,["config"]);return t!=null&&s(e,["config"],Ot(o,t,e)),e}function Qt(o,n){const e={},t=i(n,["details"]);t!=null&&s(e,["details"],t);const r=i(n,["message"]);r!=null&&s(e,["message"],r);const l=i(n,["code"]);return l!=null&&s(e,["code"],l),e}function Zt(o,n){const e={},t=i(n,["name"]);t!=null&&s(e,["name"],t);const r=i(n,["displayName"]);r!=null&&s(e,["displayName"],r);const l=i(n,["mimeType"]);l!=null&&s(e,["mimeType"],l);const a=i(n,["sizeBytes"]);a!=null&&s(e,["sizeBytes"],a);const u=i(n,["createTime"]);u!=null&&s(e,["createTime"],u);const d=i(n,["expirationTime"]);d!=null&&s(e,["expirationTime"],d);const f=i(n,["updateTime"]);f!=null&&s(e,["updateTime"],f);const c=i(n,["sha256Hash"]);c!=null&&s(e,["sha256Hash"],c);const p=i(n,["uri"]);p!=null&&s(e,["uri"],p);const m=i(n,["downloadUri"]);m!=null&&s(e,["downloadUri"],m);const g=i(n,["state"]);g!=null&&s(e,["state"],g);const h=i(n,["source"]);h!=null&&s(e,["source"],h);const y=i(n,["videoMetadata"]);y!=null&&s(e,["videoMetadata"],y);const C=i(n,["error"]);return C!=null&&s(e,["error"],Qt(o,C)),e}function jt(o,n){const e={},t=i(n,["file"]);t!=null&&s(e,["file"],Zt(o,t));const r=i(n,["config"]);return r!=null&&s(e,["config"],r),e}function eo(o,n){const e={},t=i(n,["name"]);t!=null&&s(e,["_url","file"],Rn(o,t));const r=i(n,["config"]);return r!=null&&s(e,["config"],r),e}function no(o,n){const e={},t=i(n,["name"]);t!=null&&s(e,["_url","file"],Rn(o,t));const r=i(n,["config"]);return r!=null&&s(e,["config"],r),e}function to(o,n){const e={},t=i(n,["details"]);t!=null&&s(e,["details"],t);const r=i(n,["message"]);r!=null&&s(e,["message"],r);const l=i(n,["code"]);return l!=null&&s(e,["code"],l),e}function re(o,n){const e={},t=i(n,["name"]);t!=null&&s(e,["name"],t);const r=i(n,["displayName"]);r!=null&&s(e,["displayName"],r);const l=i(n,["mimeType"]);l!=null&&s(e,["mimeType"],l);const a=i(n,["sizeBytes"]);a!=null&&s(e,["sizeBytes"],a);const u=i(n,["createTime"]);u!=null&&s(e,["createTime"],u);const d=i(n,["expirationTime"]);d!=null&&s(e,["expirationTime"],d);const f=i(n,["updateTime"]);f!=null&&s(e,["updateTime"],f);const c=i(n,["sha256Hash"]);c!=null&&s(e,["sha256Hash"],c);const p=i(n,["uri"]);p!=null&&s(e,["uri"],p);const m=i(n,["downloadUri"]);m!=null&&s(e,["downloadUri"],m);const g=i(n,["state"]);g!=null&&s(e,["state"],g);const h=i(n,["source"]);h!=null&&s(e,["source"],h);const y=i(n,["videoMetadata"]);y!=null&&s(e,["videoMetadata"],y);const C=i(n,["error"]);return C!=null&&s(e,["error"],to(o,C)),e}function oo(o,n){const e={},t=i(n,["nextPageToken"]);t!=null&&s(e,["nextPageToken"],t);const r=i(n,["files"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(a=>re(o,a))),s(e,["files"],l)}return e}function io(){return{}}function ro(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class so extends B{constructor(n){super(),this.apiClient=n,this.list=async(e={})=>new Q(L.PAGED_ITEM_FILES,t=>this.listInternal(t),await this.listInternal(e),e)}async upload(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(n.file,n.config).then(e=>re(this.apiClient,e))}async download(n){await this.apiClient.downloadFile(n)}async listInternal(n){var e,t;let r,l="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Xt(this.apiClient,n);return l=T("files",u._url),a=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(t=n.config)===null||t===void 0?void 0:t.abortSignal}).then(d=>d.json()),r.then(d=>{const f=oo(this.apiClient,d),c=new qt;return Object.assign(c,f),c})}}async createInternal(n){var e,t;let r,l="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=jt(this.apiClient,n);return l=T("upload/v1beta/files",u._url),a=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(t=n.config)===null||t===void 0?void 0:t.abortSignal}).then(d=>d.json()),r.then(()=>{const d=io(),f=new Bt;return Object.assign(f,d),f})}}async get(n){var e,t;let r,l="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=eo(this.apiClient,n);return l=T("files/{file}",u._url),a=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(t=n.config)===null||t===void 0?void 0:t.abortSignal}).then(d=>d.json()),r.then(d=>re(this.apiClient,d))}}async delete(n){var e,t;let r,l="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=no(this.apiClient,n);return l=T("files/{file}",u._url),a=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(t=n.config)===null||t===void 0?void 0:t.abortSignal}).then(d=>d.json()),r.then(()=>{const d=ro(),f=new Ht;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lo(o,n){const e={};if(i(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=i(n,["data"]);t!=null&&s(e,["data"],t);const r=i(n,["mimeType"]);return r!=null&&s(e,["mimeType"],r),e}function ao(o,n){const e={},t=i(n,["displayName"]);t!=null&&s(e,["displayName"],t);const r=i(n,["data"]);r!=null&&s(e,["data"],r);const l=i(n,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function uo(o,n){const e={};if(i(n,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const t=i(n,["thought"]);t!=null&&s(e,["thought"],t);const r=i(n,["inlineData"]);r!=null&&s(e,["inlineData"],lo(o,r));const l=i(n,["codeExecutionResult"]);l!=null&&s(e,["codeExecutionResult"],l);const a=i(n,["executableCode"]);a!=null&&s(e,["executableCode"],a);const u=i(n,["fileData"]);u!=null&&s(e,["fileData"],u);const d=i(n,["functionCall"]);d!=null&&s(e,["functionCall"],d);const f=i(n,["functionResponse"]);f!=null&&s(e,["functionResponse"],f);const c=i(n,["text"]);return c!=null&&s(e,["text"],c),e}function fo(o,n){const e={},t=i(n,["videoMetadata"]);t!=null&&s(e,["videoMetadata"],t);const r=i(n,["thought"]);r!=null&&s(e,["thought"],r);const l=i(n,["inlineData"]);l!=null&&s(e,["inlineData"],ao(o,l));const a=i(n,["codeExecutionResult"]);a!=null&&s(e,["codeExecutionResult"],a);const u=i(n,["executableCode"]);u!=null&&s(e,["executableCode"],u);const d=i(n,["fileData"]);d!=null&&s(e,["fileData"],d);const f=i(n,["functionCall"]);f!=null&&s(e,["functionCall"],f);const c=i(n,["functionResponse"]);c!=null&&s(e,["functionResponse"],c);const p=i(n,["text"]);return p!=null&&s(e,["text"],p),e}function co(o,n){const e={},t=i(n,["parts"]);if(t!=null){let l=t;Array.isArray(l)&&(l=l.map(a=>uo(o,a))),s(e,["parts"],l)}const r=i(n,["role"]);return r!=null&&s(e,["role"],r),e}function po(o,n){const e={},t=i(n,["parts"]);if(t!=null){let l=t;Array.isArray(l)&&(l=l.map(a=>fo(o,a))),s(e,["parts"],l)}const r=i(n,["role"]);return r!=null&&s(e,["role"],r),e}function mo(){return{}}function go(){return{}}function ho(o,n){const e={},t=i(n,["mode"]);t!=null&&s(e,["mode"],t);const r=i(n,["dynamicThreshold"]);return r!=null&&s(e,["dynamicThreshold"],r),e}function yo(o,n){const e={},t=i(n,["mode"]);t!=null&&s(e,["mode"],t);const r=i(n,["dynamicThreshold"]);return r!=null&&s(e,["dynamicThreshold"],r),e}function To(o,n){const e={},t=i(n,["dynamicRetrievalConfig"]);return t!=null&&s(e,["dynamicRetrievalConfig"],ho(o,t)),e}function Co(o,n){const e={},t=i(n,["dynamicRetrievalConfig"]);return t!=null&&s(e,["dynamicRetrievalConfig"],yo(o,t)),e}function Eo(){return{}}function vo(o,n){const e={},t=i(n,["apiKeyString"]);return t!=null&&s(e,["apiKeyString"],t),e}function _o(o,n){const e={},t=i(n,["apiKeyConfig"]);t!=null&&s(e,["apiKeyConfig"],vo(o,t));const r=i(n,["authType"]);r!=null&&s(e,["authType"],r);const l=i(n,["googleServiceAccountConfig"]);l!=null&&s(e,["googleServiceAccountConfig"],l);const a=i(n,["httpBasicAuthConfig"]);a!=null&&s(e,["httpBasicAuthConfig"],a);const u=i(n,["oauthConfig"]);u!=null&&s(e,["oauthConfig"],u);const d=i(n,["oidcConfig"]);return d!=null&&s(e,["oidcConfig"],d),e}function Io(o,n){const e={},t=i(n,["authConfig"]);return t!=null&&s(e,["authConfig"],_o(o,t)),e}function So(o,n){const e={};if(i(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");i(n,["googleSearch"])!=null&&s(e,["googleSearch"],mo());const r=i(n,["googleSearchRetrieval"]);if(r!=null&&s(e,["googleSearchRetrieval"],To(o,r)),i(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(i(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const l=i(n,["codeExecution"]);l!=null&&s(e,["codeExecution"],l);const a=i(n,["functionDeclarations"]);return a!=null&&s(e,["functionDeclarations"],a),e}function Ao(o,n){const e={},t=i(n,["retrieval"]);t!=null&&s(e,["retrieval"],t),i(n,["googleSearch"])!=null&&s(e,["googleSearch"],go());const l=i(n,["googleSearchRetrieval"]);l!=null&&s(e,["googleSearchRetrieval"],Co(o,l)),i(n,["enterpriseWebSearch"])!=null&&s(e,["enterpriseWebSearch"],Eo());const u=i(n,["googleMaps"]);u!=null&&s(e,["googleMaps"],Io(o,u));const d=i(n,["codeExecution"]);d!=null&&s(e,["codeExecution"],d);const f=i(n,["functionDeclarations"]);return f!=null&&s(e,["functionDeclarations"],f),e}function Mo(o,n){const e={},t=i(n,["handle"]);if(t!=null&&s(e,["handle"],t),i(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Po(o,n){const e={},t=i(n,["handle"]);t!=null&&s(e,["handle"],t);const r=i(n,["transparent"]);return r!=null&&s(e,["transparent"],r),e}function an(){return{}}function un(){return{}}function Ro(o,n){const e={},t=i(n,["disabled"]);t!=null&&s(e,["disabled"],t);const r=i(n,["startOfSpeechSensitivity"]);r!=null&&s(e,["startOfSpeechSensitivity"],r);const l=i(n,["endOfSpeechSensitivity"]);l!=null&&s(e,["endOfSpeechSensitivity"],l);const a=i(n,["prefixPaddingMs"]);a!=null&&s(e,["prefixPaddingMs"],a);const u=i(n,["silenceDurationMs"]);return u!=null&&s(e,["silenceDurationMs"],u),e}function Do(o,n){const e={},t=i(n,["disabled"]);t!=null&&s(e,["disabled"],t);const r=i(n,["startOfSpeechSensitivity"]);r!=null&&s(e,["startOfSpeechSensitivity"],r);const l=i(n,["endOfSpeechSensitivity"]);l!=null&&s(e,["endOfSpeechSensitivity"],l);const a=i(n,["prefixPaddingMs"]);a!=null&&s(e,["prefixPaddingMs"],a);const u=i(n,["silenceDurationMs"]);return u!=null&&s(e,["silenceDurationMs"],u),e}function xo(o,n){const e={},t=i(n,["automaticActivityDetection"]);t!=null&&s(e,["automaticActivityDetection"],Ro(o,t));const r=i(n,["activityHandling"]);r!=null&&s(e,["activityHandling"],r);const l=i(n,["turnCoverage"]);return l!=null&&s(e,["turnCoverage"],l),e}function wo(o,n){const e={},t=i(n,["automaticActivityDetection"]);t!=null&&s(e,["automaticActivityDetection"],Do(o,t));const r=i(n,["activityHandling"]);r!=null&&s(e,["activityHandling"],r);const l=i(n,["turnCoverage"]);return l!=null&&s(e,["turnCoverage"],l),e}function No(o,n){const e={},t=i(n,["targetTokens"]);return t!=null&&s(e,["targetTokens"],t),e}function Vo(o,n){const e={},t=i(n,["targetTokens"]);return t!=null&&s(e,["targetTokens"],t),e}function Lo(o,n){const e={},t=i(n,["triggerTokens"]);t!=null&&s(e,["triggerTokens"],t);const r=i(n,["slidingWindow"]);return r!=null&&s(e,["slidingWindow"],No(o,r)),e}function Uo(o,n){const e={},t=i(n,["triggerTokens"]);t!=null&&s(e,["triggerTokens"],t);const r=i(n,["slidingWindow"]);return r!=null&&s(e,["slidingWindow"],Vo(o,r)),e}function Fo(o,n,e){const t={},r=i(n,["generationConfig"]);e!==void 0&&r!=null&&s(e,["setup","generationConfig"],r);const l=i(n,["responseModalities"]);e!==void 0&&l!=null&&s(e,["setup","generationConfig","responseModalities"],l);const a=i(n,["temperature"]);e!==void 0&&a!=null&&s(e,["setup","generationConfig","temperature"],a);const u=i(n,["topP"]);e!==void 0&&u!=null&&s(e,["setup","generationConfig","topP"],u);const d=i(n,["topK"]);e!==void 0&&d!=null&&s(e,["setup","generationConfig","topK"],d);const f=i(n,["maxOutputTokens"]);e!==void 0&&f!=null&&s(e,["setup","generationConfig","maxOutputTokens"],f);const c=i(n,["mediaResolution"]);e!==void 0&&c!=null&&s(e,["setup","generationConfig","mediaResolution"],c);const p=i(n,["seed"]);e!==void 0&&p!=null&&s(e,["setup","generationConfig","seed"],p);const m=i(n,["speechConfig"]);e!==void 0&&m!=null&&s(e,["setup","generationConfig","speechConfig"],m);const g=i(n,["systemInstruction"]);e!==void 0&&g!=null&&s(e,["setup","systemInstruction"],co(o,P(o,g)));const h=i(n,["tools"]);if(e!==void 0&&h!=null){let E=X(o,h);Array.isArray(E)&&(E=E.map(A=>So(o,O(o,A)))),s(e,["setup","tools"],E)}const y=i(n,["sessionResumption"]);e!==void 0&&y!=null&&s(e,["setup","sessionResumption"],Mo(o,y));const C=i(n,["inputAudioTranscription"]);e!==void 0&&C!=null&&s(e,["setup","inputAudioTranscription"],an());const v=i(n,["outputAudioTranscription"]);e!==void 0&&v!=null&&s(e,["setup","outputAudioTranscription"],an());const _=i(n,["realtimeInputConfig"]);e!==void 0&&_!=null&&s(e,["setup","realtimeInputConfig"],xo(o,_));const S=i(n,["contextWindowCompression"]);return e!==void 0&&S!=null&&s(e,["setup","contextWindowCompression"],Lo(o,S)),t}function ko(o,n,e){const t={},r=i(n,["generationConfig"]);e!==void 0&&r!=null&&s(e,["setup","generationConfig"],r);const l=i(n,["responseModalities"]);e!==void 0&&l!=null&&s(e,["setup","generationConfig","responseModalities"],l);const a=i(n,["temperature"]);e!==void 0&&a!=null&&s(e,["setup","generationConfig","temperature"],a);const u=i(n,["topP"]);e!==void 0&&u!=null&&s(e,["setup","generationConfig","topP"],u);const d=i(n,["topK"]);e!==void 0&&d!=null&&s(e,["setup","generationConfig","topK"],d);const f=i(n,["maxOutputTokens"]);e!==void 0&&f!=null&&s(e,["setup","generationConfig","maxOutputTokens"],f);const c=i(n,["mediaResolution"]);e!==void 0&&c!=null&&s(e,["setup","generationConfig","mediaResolution"],c);const p=i(n,["seed"]);e!==void 0&&p!=null&&s(e,["setup","generationConfig","seed"],p);const m=i(n,["speechConfig"]);e!==void 0&&m!=null&&s(e,["setup","generationConfig","speechConfig"],m);const g=i(n,["systemInstruction"]);e!==void 0&&g!=null&&s(e,["setup","systemInstruction"],po(o,P(o,g)));const h=i(n,["tools"]);if(e!==void 0&&h!=null){let E=X(o,h);Array.isArray(E)&&(E=E.map(A=>Ao(o,O(o,A)))),s(e,["setup","tools"],E)}const y=i(n,["sessionResumption"]);e!==void 0&&y!=null&&s(e,["setup","sessionResumption"],Po(o,y));const C=i(n,["inputAudioTranscription"]);e!==void 0&&C!=null&&s(e,["setup","inputAudioTranscription"],un());const v=i(n,["outputAudioTranscription"]);e!==void 0&&v!=null&&s(e,["setup","outputAudioTranscription"],un());const _=i(n,["realtimeInputConfig"]);e!==void 0&&_!=null&&s(e,["setup","realtimeInputConfig"],wo(o,_));const S=i(n,["contextWindowCompression"]);return e!==void 0&&S!=null&&s(e,["setup","contextWindowCompression"],Uo(o,S)),t}function Go(o,n){const e={},t=i(n,["model"]);t!=null&&s(e,["setup","model"],I(o,t));const r=i(n,["config"]);return r!=null&&s(e,["config"],Fo(o,r,e)),e}function qo(o,n){const e={},t=i(n,["model"]);t!=null&&s(e,["setup","model"],I(o,t));const r=i(n,["config"]);return r!=null&&s(e,["config"],ko(o,r,e)),e}function Bo(){return{}}function Ho(){return{}}function Jo(){return{}}function Yo(){return{}}function $o(o,n){const e={},t=i(n,["media"]);t!=null&&s(e,["mediaChunks"],_n(o,t));const r=i(n,["audio"]);r!=null&&s(e,["audio"],Jn(o,r));const l=i(n,["audioStreamEnd"]);l!=null&&s(e,["audioStreamEnd"],l);const a=i(n,["video"]);a!=null&&s(e,["video"],Hn(o,a));const u=i(n,["text"]);return u!=null&&s(e,["text"],u),i(n,["activityStart"])!=null&&s(e,["activityStart"],Bo()),i(n,["activityEnd"])!=null&&s(e,["activityEnd"],Jo()),e}function Ko(o,n){const e={},t=i(n,["media"]);if(t!=null&&s(e,["mediaChunks"],_n(o,t)),i(n,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const r=i(n,["audioStreamEnd"]);if(r!=null&&s(e,["audioStreamEnd"],r),i(n,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(i(n,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return i(n,["activityStart"])!=null&&s(e,["activityStart"],Ho()),i(n,["activityEnd"])!=null&&s(e,["activityEnd"],Yo()),e}function Wo(){return{}}function zo(){return{}}function bo(o,n){const e={},t=i(n,["data"]);t!=null&&s(e,["data"],t);const r=i(n,["mimeType"]);return r!=null&&s(e,["mimeType"],r),e}function Oo(o,n){const e={},t=i(n,["displayName"]);t!=null&&s(e,["displayName"],t);const r=i(n,["data"]);r!=null&&s(e,["data"],r);const l=i(n,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function Xo(o,n){const e={},t=i(n,["thought"]);t!=null&&s(e,["thought"],t);const r=i(n,["inlineData"]);r!=null&&s(e,["inlineData"],bo(o,r));const l=i(n,["codeExecutionResult"]);l!=null&&s(e,["codeExecutionResult"],l);const a=i(n,["executableCode"]);a!=null&&s(e,["executableCode"],a);const u=i(n,["fileData"]);u!=null&&s(e,["fileData"],u);const d=i(n,["functionCall"]);d!=null&&s(e,["functionCall"],d);const f=i(n,["functionResponse"]);f!=null&&s(e,["functionResponse"],f);const c=i(n,["text"]);return c!=null&&s(e,["text"],c),e}function Qo(o,n){const e={},t=i(n,["videoMetadata"]);t!=null&&s(e,["videoMetadata"],t);const r=i(n,["thought"]);r!=null&&s(e,["thought"],r);const l=i(n,["inlineData"]);l!=null&&s(e,["inlineData"],Oo(o,l));const a=i(n,["codeExecutionResult"]);a!=null&&s(e,["codeExecutionResult"],a);const u=i(n,["executableCode"]);u!=null&&s(e,["executableCode"],u);const d=i(n,["fileData"]);d!=null&&s(e,["fileData"],d);const f=i(n,["functionCall"]);f!=null&&s(e,["functionCall"],f);const c=i(n,["functionResponse"]);c!=null&&s(e,["functionResponse"],c);const p=i(n,["text"]);return p!=null&&s(e,["text"],p),e}function Zo(o,n){const e={},t=i(n,["parts"]);if(t!=null){let l=t;Array.isArray(l)&&(l=l.map(a=>Xo(o,a))),s(e,["parts"],l)}const r=i(n,["role"]);return r!=null&&s(e,["role"],r),e}function jo(o,n){const e={},t=i(n,["parts"]);if(t!=null){let l=t;Array.isArray(l)&&(l=l.map(a=>Qo(o,a))),s(e,["parts"],l)}const r=i(n,["role"]);return r!=null&&s(e,["role"],r),e}function fn(o,n){const e={},t=i(n,["text"]);t!=null&&s(e,["text"],t);const r=i(n,["finished"]);return r!=null&&s(e,["finished"],r),e}function dn(o,n){const e={},t=i(n,["text"]);t!=null&&s(e,["text"],t);const r=i(n,["finished"]);return r!=null&&s(e,["finished"],r),e}function ei(o,n){const e={},t=i(n,["modelTurn"]);t!=null&&s(e,["modelTurn"],Zo(o,t));const r=i(n,["turnComplete"]);r!=null&&s(e,["turnComplete"],r);const l=i(n,["interrupted"]);l!=null&&s(e,["interrupted"],l);const a=i(n,["groundingMetadata"]);a!=null&&s(e,["groundingMetadata"],a);const u=i(n,["generationComplete"]);u!=null&&s(e,["generationComplete"],u);const d=i(n,["inputTranscription"]);d!=null&&s(e,["inputTranscription"],fn(o,d));const f=i(n,["outputTranscription"]);return f!=null&&s(e,["outputTranscription"],fn(o,f)),e}function ni(o,n){const e={},t=i(n,["modelTurn"]);t!=null&&s(e,["modelTurn"],jo(o,t));const r=i(n,["turnComplete"]);r!=null&&s(e,["turnComplete"],r);const l=i(n,["interrupted"]);l!=null&&s(e,["interrupted"],l);const a=i(n,["groundingMetadata"]);a!=null&&s(e,["groundingMetadata"],a);const u=i(n,["generationComplete"]);u!=null&&s(e,["generationComplete"],u);const d=i(n,["inputTranscription"]);d!=null&&s(e,["inputTranscription"],dn(o,d));const f=i(n,["outputTranscription"]);return f!=null&&s(e,["outputTranscription"],dn(o,f)),e}function ti(o,n){const e={},t=i(n,["id"]);t!=null&&s(e,["id"],t);const r=i(n,["args"]);r!=null&&s(e,["args"],r);const l=i(n,["name"]);return l!=null&&s(e,["name"],l),e}function oi(o,n){const e={},t=i(n,["args"]);t!=null&&s(e,["args"],t);const r=i(n,["name"]);return r!=null&&s(e,["name"],r),e}function ii(o,n){const e={},t=i(n,["functionCalls"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(l=>ti(o,l))),s(e,["functionCalls"],r)}return e}function ri(o,n){const e={},t=i(n,["functionCalls"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(l=>oi(o,l))),s(e,["functionCalls"],r)}return e}function si(o,n){const e={},t=i(n,["ids"]);return t!=null&&s(e,["ids"],t),e}function li(o,n){const e={},t=i(n,["ids"]);return t!=null&&s(e,["ids"],t),e}function J(o,n){const e={},t=i(n,["modality"]);t!=null&&s(e,["modality"],t);const r=i(n,["tokenCount"]);return r!=null&&s(e,["tokenCount"],r),e}function Y(o,n){const e={},t=i(n,["modality"]);t!=null&&s(e,["modality"],t);const r=i(n,["tokenCount"]);return r!=null&&s(e,["tokenCount"],r),e}function ai(o,n){const e={},t=i(n,["promptTokenCount"]);t!=null&&s(e,["promptTokenCount"],t);const r=i(n,["cachedContentTokenCount"]);r!=null&&s(e,["cachedContentTokenCount"],r);const l=i(n,["responseTokenCount"]);l!=null&&s(e,["responseTokenCount"],l);const a=i(n,["toolUsePromptTokenCount"]);a!=null&&s(e,["toolUsePromptTokenCount"],a);const u=i(n,["thoughtsTokenCount"]);u!=null&&s(e,["thoughtsTokenCount"],u);const d=i(n,["totalTokenCount"]);d!=null&&s(e,["totalTokenCount"],d);const f=i(n,["promptTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(h=>J(o,h))),s(e,["promptTokensDetails"],g)}const c=i(n,["cacheTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(h=>J(o,h))),s(e,["cacheTokensDetails"],g)}const p=i(n,["responseTokensDetails"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(h=>J(o,h))),s(e,["responseTokensDetails"],g)}const m=i(n,["toolUsePromptTokensDetails"]);if(m!=null){let g=m;Array.isArray(g)&&(g=g.map(h=>J(o,h))),s(e,["toolUsePromptTokensDetails"],g)}return e}function ui(o,n){const e={},t=i(n,["promptTokenCount"]);t!=null&&s(e,["promptTokenCount"],t);const r=i(n,["cachedContentTokenCount"]);r!=null&&s(e,["cachedContentTokenCount"],r);const l=i(n,["candidatesTokenCount"]);l!=null&&s(e,["responseTokenCount"],l);const a=i(n,["toolUsePromptTokenCount"]);a!=null&&s(e,["toolUsePromptTokenCount"],a);const u=i(n,["thoughtsTokenCount"]);u!=null&&s(e,["thoughtsTokenCount"],u);const d=i(n,["totalTokenCount"]);d!=null&&s(e,["totalTokenCount"],d);const f=i(n,["promptTokensDetails"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(y=>Y(o,y))),s(e,["promptTokensDetails"],h)}const c=i(n,["cacheTokensDetails"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(y=>Y(o,y))),s(e,["cacheTokensDetails"],h)}const p=i(n,["candidatesTokensDetails"]);if(p!=null){let h=p;Array.isArray(h)&&(h=h.map(y=>Y(o,y))),s(e,["responseTokensDetails"],h)}const m=i(n,["toolUsePromptTokensDetails"]);if(m!=null){let h=m;Array.isArray(h)&&(h=h.map(y=>Y(o,y))),s(e,["toolUsePromptTokensDetails"],h)}const g=i(n,["trafficType"]);return g!=null&&s(e,["trafficType"],g),e}function fi(o,n){const e={},t=i(n,["timeLeft"]);return t!=null&&s(e,["timeLeft"],t),e}function di(o,n){const e={},t=i(n,["timeLeft"]);return t!=null&&s(e,["timeLeft"],t),e}function ci(o,n){const e={},t=i(n,["newHandle"]);t!=null&&s(e,["newHandle"],t);const r=i(n,["resumable"]);r!=null&&s(e,["resumable"],r);const l=i(n,["lastConsumedClientMessageIndex"]);return l!=null&&s(e,["lastConsumedClientMessageIndex"],l),e}function pi(o,n){const e={},t=i(n,["newHandle"]);t!=null&&s(e,["newHandle"],t);const r=i(n,["resumable"]);r!=null&&s(e,["resumable"],r);const l=i(n,["lastConsumedClientMessageIndex"]);return l!=null&&s(e,["lastConsumedClientMessageIndex"],l),e}function mi(o,n){const e={};i(n,["setupComplete"])!=null&&s(e,["setupComplete"],Wo());const r=i(n,["serverContent"]);r!=null&&s(e,["serverContent"],ei(o,r));const l=i(n,["toolCall"]);l!=null&&s(e,["toolCall"],ii(o,l));const a=i(n,["toolCallCancellation"]);a!=null&&s(e,["toolCallCancellation"],si(o,a));const u=i(n,["usageMetadata"]);u!=null&&s(e,["usageMetadata"],ai(o,u));const d=i(n,["goAway"]);d!=null&&s(e,["goAway"],fi(o,d));const f=i(n,["sessionResumptionUpdate"]);return f!=null&&s(e,["sessionResumptionUpdate"],ci(o,f)),e}function gi(o,n){const e={};i(n,["setupComplete"])!=null&&s(e,["setupComplete"],zo());const r=i(n,["serverContent"]);r!=null&&s(e,["serverContent"],ni(o,r));const l=i(n,["toolCall"]);l!=null&&s(e,["toolCall"],ri(o,l));const a=i(n,["toolCallCancellation"]);a!=null&&s(e,["toolCallCancellation"],li(o,a));const u=i(n,["usageMetadata"]);u!=null&&s(e,["usageMetadata"],ui(o,u));const d=i(n,["goAway"]);d!=null&&s(e,["goAway"],di(o,d));const f=i(n,["sessionResumptionUpdate"]);return f!=null&&s(e,["sessionResumptionUpdate"],pi(o,f)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hi(o,n){const e={};if(i(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=i(n,["data"]);t!=null&&s(e,["data"],t);const r=i(n,["mimeType"]);return r!=null&&s(e,["mimeType"],r),e}function yi(o,n){const e={};if(i(n,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const t=i(n,["thought"]);t!=null&&s(e,["thought"],t);const r=i(n,["inlineData"]);r!=null&&s(e,["inlineData"],hi(o,r));const l=i(n,["codeExecutionResult"]);l!=null&&s(e,["codeExecutionResult"],l);const a=i(n,["executableCode"]);a!=null&&s(e,["executableCode"],a);const u=i(n,["fileData"]);u!=null&&s(e,["fileData"],u);const d=i(n,["functionCall"]);d!=null&&s(e,["functionCall"],d);const f=i(n,["functionResponse"]);f!=null&&s(e,["functionResponse"],f);const c=i(n,["text"]);return c!=null&&s(e,["text"],c),e}function Z(o,n){const e={},t=i(n,["parts"]);if(t!=null){let l=t;Array.isArray(l)&&(l=l.map(a=>yi(o,a))),s(e,["parts"],l)}const r=i(n,["role"]);return r!=null&&s(e,["role"],r),e}function Ti(o,n){const e={};if(i(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const t=i(n,["category"]);t!=null&&s(e,["category"],t);const r=i(n,["threshold"]);return r!=null&&s(e,["threshold"],r),e}function Ci(){return{}}function Ei(o,n){const e={},t=i(n,["mode"]);t!=null&&s(e,["mode"],t);const r=i(n,["dynamicThreshold"]);return r!=null&&s(e,["dynamicThreshold"],r),e}function vi(o,n){const e={},t=i(n,["dynamicRetrievalConfig"]);return t!=null&&s(e,["dynamicRetrievalConfig"],Ei(o,t)),e}function _i(o,n){const e={};if(i(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");i(n,["googleSearch"])!=null&&s(e,["googleSearch"],Ci());const r=i(n,["googleSearchRetrieval"]);if(r!=null&&s(e,["googleSearchRetrieval"],vi(o,r)),i(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(i(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const l=i(n,["codeExecution"]);l!=null&&s(e,["codeExecution"],l);const a=i(n,["functionDeclarations"]);return a!=null&&s(e,["functionDeclarations"],a),e}function Ii(o,n){const e={},t=i(n,["mode"]);t!=null&&s(e,["mode"],t);const r=i(n,["allowedFunctionNames"]);return r!=null&&s(e,["allowedFunctionNames"],r),e}function Si(o,n){const e={},t=i(n,["functionCallingConfig"]);if(t!=null&&s(e,["functionCallingConfig"],Ii(o,t)),i(n,["retrievalConfig"])!==void 0)throw new Error("retrievalConfig parameter is not supported in Gemini API.");return e}function Ai(o,n){const e={},t=i(n,["voiceName"]);return t!=null&&s(e,["voiceName"],t),e}function Mi(o,n){const e={},t=i(n,["prebuiltVoiceConfig"]);return t!=null&&s(e,["prebuiltVoiceConfig"],Ai(o,t)),e}function Pi(o,n){const e={},t=i(n,["voiceConfig"]);t!=null&&s(e,["voiceConfig"],Mi(o,t));const r=i(n,["languageCode"]);return r!=null&&s(e,["languageCode"],r),e}function Ri(o,n){const e={},t=i(n,["includeThoughts"]);t!=null&&s(e,["includeThoughts"],t);const r=i(n,["thinkingBudget"]);return r!=null&&s(e,["thinkingBudget"],r),e}function Di(o,n,e){const t={},r=i(n,["systemInstruction"]);e!==void 0&&r!=null&&s(e,["systemInstruction"],Z(o,P(o,r)));const l=i(n,["temperature"]);l!=null&&s(t,["temperature"],l);const a=i(n,["topP"]);a!=null&&s(t,["topP"],a);const u=i(n,["topK"]);u!=null&&s(t,["topK"],u);const d=i(n,["candidateCount"]);d!=null&&s(t,["candidateCount"],d);const f=i(n,["maxOutputTokens"]);f!=null&&s(t,["maxOutputTokens"],f);const c=i(n,["stopSequences"]);c!=null&&s(t,["stopSequences"],c);const p=i(n,["responseLogprobs"]);p!=null&&s(t,["responseLogprobs"],p);const m=i(n,["logprobs"]);m!=null&&s(t,["logprobs"],m);const g=i(n,["presencePenalty"]);g!=null&&s(t,["presencePenalty"],g);const h=i(n,["frequencyPenalty"]);h!=null&&s(t,["frequencyPenalty"],h);const y=i(n,["seed"]);y!=null&&s(t,["seed"],y);const C=i(n,["responseMimeType"]);C!=null&&s(t,["responseMimeType"],C);const v=i(n,["responseSchema"]);if(v!=null&&s(t,["responseSchema"],An(o,v)),i(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(i(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=i(n,["safetySettings"]);if(e!==void 0&&_!=null){let R=_;Array.isArray(R)&&(R=R.map(V=>Ti(o,V))),s(e,["safetySettings"],R)}const S=i(n,["tools"]);if(e!==void 0&&S!=null){let R=X(o,S);Array.isArray(R)&&(R=R.map(V=>_i(o,O(o,V)))),s(e,["tools"],R)}const E=i(n,["toolConfig"]);if(e!==void 0&&E!=null&&s(e,["toolConfig"],Si(o,E)),i(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=i(n,["cachedContent"]);e!==void 0&&A!=null&&s(e,["cachedContent"],w(o,A));const F=i(n,["responseModalities"]);F!=null&&s(t,["responseModalities"],F);const k=i(n,["mediaResolution"]);k!=null&&s(t,["mediaResolution"],k);const G=i(n,["speechConfig"]);if(G!=null&&s(t,["speechConfig"],Pi(o,Mn(o,G))),i(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const q=i(n,["thinkingConfig"]);return q!=null&&s(t,["thinkingConfig"],Ri(o,q)),t}function cn(o,n){const e={},t=i(n,["model"]);t!=null&&s(e,["_url","model"],I(o,t));const r=i(n,["contents"]);if(r!=null){let a=x(o,r);Array.isArray(a)&&(a=a.map(u=>Z(o,u))),s(e,["contents"],a)}const l=i(n,["config"]);return l!=null&&s(e,["generationConfig"],Di(o,l,e)),e}function xi(o,n,e){const t={},r=i(n,["taskType"]);e!==void 0&&r!=null&&s(e,["requests[]","taskType"],r);const l=i(n,["title"]);e!==void 0&&l!=null&&s(e,["requests[]","title"],l);const a=i(n,["outputDimensionality"]);if(e!==void 0&&a!=null&&s(e,["requests[]","outputDimensionality"],a),i(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(i(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function wi(o,n){const e={},t=i(n,["model"]);t!=null&&s(e,["_url","model"],I(o,t));const r=i(n,["contents"]);r!=null&&s(e,["requests[]","content"],Sn(o,r));const l=i(n,["config"]);l!=null&&s(e,["config"],xi(o,l,e));const a=i(n,["model"]);return a!==void 0&&s(e,["requests[]","model"],I(o,a)),e}function Ni(o,n,e){const t={};if(i(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(i(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=i(n,["numberOfImages"]);e!==void 0&&r!=null&&s(e,["parameters","sampleCount"],r);const l=i(n,["aspectRatio"]);e!==void 0&&l!=null&&s(e,["parameters","aspectRatio"],l);const a=i(n,["guidanceScale"]);if(e!==void 0&&a!=null&&s(e,["parameters","guidanceScale"],a),i(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=i(n,["safetyFilterLevel"]);e!==void 0&&u!=null&&s(e,["parameters","safetySetting"],u);const d=i(n,["personGeneration"]);e!==void 0&&d!=null&&s(e,["parameters","personGeneration"],d);const f=i(n,["includeSafetyAttributes"]);e!==void 0&&f!=null&&s(e,["parameters","includeSafetyAttributes"],f);const c=i(n,["includeRaiReason"]);e!==void 0&&c!=null&&s(e,["parameters","includeRaiReason"],c);const p=i(n,["language"]);e!==void 0&&p!=null&&s(e,["parameters","language"],p);const m=i(n,["outputMimeType"]);e!==void 0&&m!=null&&s(e,["parameters","outputOptions","mimeType"],m);const g=i(n,["outputCompressionQuality"]);if(e!==void 0&&g!=null&&s(e,["parameters","outputOptions","compressionQuality"],g),i(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(i(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return t}function Vi(o,n){const e={},t=i(n,["model"]);t!=null&&s(e,["_url","model"],I(o,t));const r=i(n,["prompt"]);r!=null&&s(e,["instances[0]","prompt"],r);const l=i(n,["config"]);return l!=null&&s(e,["config"],Ni(o,l,e)),e}function Li(o,n){const e={},t=i(n,["model"]);t!=null&&s(e,["_url","name"],I(o,t));const r=i(n,["config"]);return r!=null&&s(e,["config"],r),e}function Ui(o,n,e){const t={},r=i(n,["pageSize"]);e!==void 0&&r!=null&&s(e,["_query","pageSize"],r);const l=i(n,["pageToken"]);e!==void 0&&l!=null&&s(e,["_query","pageToken"],l);const a=i(n,["filter"]);e!==void 0&&a!=null&&s(e,["_query","filter"],a);const u=i(n,["queryBase"]);return e!==void 0&&u!=null&&s(e,["_url","models_url"],Dn(o,u)),t}function Fi(o,n){const e={},t=i(n,["config"]);return t!=null&&s(e,["config"],Ui(o,t,e)),e}function ki(o,n,e){const t={},r=i(n,["displayName"]);e!==void 0&&r!=null&&s(e,["displayName"],r);const l=i(n,["description"]);e!==void 0&&l!=null&&s(e,["description"],l);const a=i(n,["defaultCheckpointId"]);return e!==void 0&&a!=null&&s(e,["defaultCheckpointId"],a),t}function Gi(o,n){const e={},t=i(n,["model"]);t!=null&&s(e,["_url","name"],I(o,t));const r=i(n,["config"]);return r!=null&&s(e,["config"],ki(o,r,e)),e}function qi(o,n){const e={},t=i(n,["model"]);t!=null&&s(e,["_url","name"],I(o,t));const r=i(n,["config"]);return r!=null&&s(e,["config"],r),e}function Bi(o,n){const e={};if(i(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(i(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(i(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Hi(o,n){const e={},t=i(n,["model"]);t!=null&&s(e,["_url","model"],I(o,t));const r=i(n,["contents"]);if(r!=null){let a=x(o,r);Array.isArray(a)&&(a=a.map(u=>Z(o,u))),s(e,["contents"],a)}const l=i(n,["config"]);return l!=null&&s(e,["config"],Bi(o,l)),e}function Ji(o,n){const e={};if(i(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const t=i(n,["imageBytes"]);t!=null&&s(e,["bytesBase64Encoded"],N(o,t));const r=i(n,["mimeType"]);return r!=null&&s(e,["mimeType"],r),e}function Yi(o,n,e){const t={},r=i(n,["numberOfVideos"]);if(e!==void 0&&r!=null&&s(e,["parameters","sampleCount"],r),i(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(i(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=i(n,["durationSeconds"]);if(e!==void 0&&l!=null&&s(e,["parameters","durationSeconds"],l),i(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=i(n,["aspectRatio"]);if(e!==void 0&&a!=null&&s(e,["parameters","aspectRatio"],a),i(n,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const u=i(n,["personGeneration"]);if(e!==void 0&&u!=null&&s(e,["parameters","personGeneration"],u),i(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=i(n,["negativePrompt"]);if(e!==void 0&&d!=null&&s(e,["parameters","negativePrompt"],d),i(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return t}function $i(o,n){const e={},t=i(n,["model"]);t!=null&&s(e,["_url","model"],I(o,t));const r=i(n,["prompt"]);r!=null&&s(e,["instances[0]","prompt"],r);const l=i(n,["image"]);l!=null&&s(e,["instances[0]","image"],Ji(o,l));const a=i(n,["config"]);return a!=null&&s(e,["config"],Yi(o,a,e)),e}function Ki(o,n){const e={},t=i(n,["displayName"]);t!=null&&s(e,["displayName"],t);const r=i(n,["data"]);r!=null&&s(e,["data"],r);const l=i(n,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function Wi(o,n){const e={},t=i(n,["videoMetadata"]);t!=null&&s(e,["videoMetadata"],t);const r=i(n,["thought"]);r!=null&&s(e,["thought"],r);const l=i(n,["inlineData"]);l!=null&&s(e,["inlineData"],Ki(o,l));const a=i(n,["codeExecutionResult"]);a!=null&&s(e,["codeExecutionResult"],a);const u=i(n,["executableCode"]);u!=null&&s(e,["executableCode"],u);const d=i(n,["fileData"]);d!=null&&s(e,["fileData"],d);const f=i(n,["functionCall"]);f!=null&&s(e,["functionCall"],f);const c=i(n,["functionResponse"]);c!=null&&s(e,["functionResponse"],c);const p=i(n,["text"]);return p!=null&&s(e,["text"],p),e}function U(o,n){const e={},t=i(n,["parts"]);if(t!=null){let l=t;Array.isArray(l)&&(l=l.map(a=>Wi(o,a))),s(e,["parts"],l)}const r=i(n,["role"]);return r!=null&&s(e,["role"],r),e}function zi(o,n){const e={},t=i(n,["featureSelectionPreference"]);return t!=null&&s(e,["featureSelectionPreference"],t),e}function bi(o,n){const e={},t=i(n,["method"]);t!=null&&s(e,["method"],t);const r=i(n,["category"]);r!=null&&s(e,["category"],r);const l=i(n,["threshold"]);return l!=null&&s(e,["threshold"],l),e}function Oi(){return{}}function Xi(o,n){const e={},t=i(n,["mode"]);t!=null&&s(e,["mode"],t);const r=i(n,["dynamicThreshold"]);return r!=null&&s(e,["dynamicThreshold"],r),e}function Qi(o,n){const e={},t=i(n,["dynamicRetrievalConfig"]);return t!=null&&s(e,["dynamicRetrievalConfig"],Xi(o,t)),e}function Zi(){return{}}function ji(o,n){const e={},t=i(n,["apiKeyString"]);return t!=null&&s(e,["apiKeyString"],t),e}function er(o,n){const e={},t=i(n,["apiKeyConfig"]);t!=null&&s(e,["apiKeyConfig"],ji(o,t));const r=i(n,["authType"]);r!=null&&s(e,["authType"],r);const l=i(n,["googleServiceAccountConfig"]);l!=null&&s(e,["googleServiceAccountConfig"],l);const a=i(n,["httpBasicAuthConfig"]);a!=null&&s(e,["httpBasicAuthConfig"],a);const u=i(n,["oauthConfig"]);u!=null&&s(e,["oauthConfig"],u);const d=i(n,["oidcConfig"]);return d!=null&&s(e,["oidcConfig"],d),e}function nr(o,n){const e={},t=i(n,["authConfig"]);return t!=null&&s(e,["authConfig"],er(o,t)),e}function Nn(o,n){const e={},t=i(n,["retrieval"]);t!=null&&s(e,["retrieval"],t),i(n,["googleSearch"])!=null&&s(e,["googleSearch"],Oi());const l=i(n,["googleSearchRetrieval"]);l!=null&&s(e,["googleSearchRetrieval"],Qi(o,l)),i(n,["enterpriseWebSearch"])!=null&&s(e,["enterpriseWebSearch"],Zi());const u=i(n,["googleMaps"]);u!=null&&s(e,["googleMaps"],nr(o,u));const d=i(n,["codeExecution"]);d!=null&&s(e,["codeExecution"],d);const f=i(n,["functionDeclarations"]);return f!=null&&s(e,["functionDeclarations"],f),e}function tr(o,n){const e={},t=i(n,["mode"]);t!=null&&s(e,["mode"],t);const r=i(n,["allowedFunctionNames"]);return r!=null&&s(e,["allowedFunctionNames"],r),e}function or(o,n){const e={},t=i(n,["latitude"]);t!=null&&s(e,["latitude"],t);const r=i(n,["longitude"]);return r!=null&&s(e,["longitude"],r),e}function ir(o,n){const e={},t=i(n,["latLng"]);return t!=null&&s(e,["latLng"],or(o,t)),e}function rr(o,n){const e={},t=i(n,["functionCallingConfig"]);t!=null&&s(e,["functionCallingConfig"],tr(o,t));const r=i(n,["retrievalConfig"]);return r!=null&&s(e,["retrievalConfig"],ir(o,r)),e}function sr(o,n){const e={},t=i(n,["voiceName"]);return t!=null&&s(e,["voiceName"],t),e}function lr(o,n){const e={},t=i(n,["prebuiltVoiceConfig"]);return t!=null&&s(e,["prebuiltVoiceConfig"],sr(o,t)),e}function ar(o,n){const e={},t=i(n,["voiceConfig"]);t!=null&&s(e,["voiceConfig"],lr(o,t));const r=i(n,["languageCode"]);return r!=null&&s(e,["languageCode"],r),e}function ur(o,n){const e={},t=i(n,["includeThoughts"]);t!=null&&s(e,["includeThoughts"],t);const r=i(n,["thinkingBudget"]);return r!=null&&s(e,["thinkingBudget"],r),e}function fr(o,n,e){const t={},r=i(n,["systemInstruction"]);e!==void 0&&r!=null&&s(e,["systemInstruction"],U(o,P(o,r)));const l=i(n,["temperature"]);l!=null&&s(t,["temperature"],l);const a=i(n,["topP"]);a!=null&&s(t,["topP"],a);const u=i(n,["topK"]);u!=null&&s(t,["topK"],u);const d=i(n,["candidateCount"]);d!=null&&s(t,["candidateCount"],d);const f=i(n,["maxOutputTokens"]);f!=null&&s(t,["maxOutputTokens"],f);const c=i(n,["stopSequences"]);c!=null&&s(t,["stopSequences"],c);const p=i(n,["responseLogprobs"]);p!=null&&s(t,["responseLogprobs"],p);const m=i(n,["logprobs"]);m!=null&&s(t,["logprobs"],m);const g=i(n,["presencePenalty"]);g!=null&&s(t,["presencePenalty"],g);const h=i(n,["frequencyPenalty"]);h!=null&&s(t,["frequencyPenalty"],h);const y=i(n,["seed"]);y!=null&&s(t,["seed"],y);const C=i(n,["responseMimeType"]);C!=null&&s(t,["responseMimeType"],C);const v=i(n,["responseSchema"]);v!=null&&s(t,["responseSchema"],An(o,v));const _=i(n,["routingConfig"]);_!=null&&s(t,["routingConfig"],_);const S=i(n,["modelSelectionConfig"]);S!=null&&s(t,["modelConfig"],zi(o,S));const E=i(n,["safetySettings"]);if(e!==void 0&&E!=null){let D=E;Array.isArray(D)&&(D=D.map(j=>bi(o,j))),s(e,["safetySettings"],D)}const A=i(n,["tools"]);if(e!==void 0&&A!=null){let D=X(o,A);Array.isArray(D)&&(D=D.map(j=>Nn(o,O(o,j)))),s(e,["tools"],D)}const F=i(n,["toolConfig"]);e!==void 0&&F!=null&&s(e,["toolConfig"],rr(o,F));const k=i(n,["labels"]);e!==void 0&&k!=null&&s(e,["labels"],k);const G=i(n,["cachedContent"]);e!==void 0&&G!=null&&s(e,["cachedContent"],w(o,G));const q=i(n,["responseModalities"]);q!=null&&s(t,["responseModalities"],q);const R=i(n,["mediaResolution"]);R!=null&&s(t,["mediaResolution"],R);const V=i(n,["speechConfig"]);V!=null&&s(t,["speechConfig"],ar(o,Mn(o,V)));const pe=i(n,["audioTimestamp"]);pe!=null&&s(t,["audioTimestamp"],pe);const me=i(n,["thinkingConfig"]);return me!=null&&s(t,["thinkingConfig"],ur(o,me)),t}function pn(o,n){const e={},t=i(n,["model"]);t!=null&&s(e,["_url","model"],I(o,t));const r=i(n,["contents"]);if(r!=null){let a=x(o,r);Array.isArray(a)&&(a=a.map(u=>U(o,u))),s(e,["contents"],a)}const l=i(n,["config"]);return l!=null&&s(e,["generationConfig"],fr(o,l,e)),e}function dr(o,n,e){const t={},r=i(n,["taskType"]);e!==void 0&&r!=null&&s(e,["instances[]","task_type"],r);const l=i(n,["title"]);e!==void 0&&l!=null&&s(e,["instances[]","title"],l);const a=i(n,["outputDimensionality"]);e!==void 0&&a!=null&&s(e,["parameters","outputDimensionality"],a);const u=i(n,["mimeType"]);e!==void 0&&u!=null&&s(e,["instances[]","mimeType"],u);const d=i(n,["autoTruncate"]);return e!==void 0&&d!=null&&s(e,["parameters","autoTruncate"],d),t}function cr(o,n){const e={},t=i(n,["model"]);t!=null&&s(e,["_url","model"],I(o,t));const r=i(n,["contents"]);r!=null&&s(e,["instances[]","content"],Sn(o,r));const l=i(n,["config"]);return l!=null&&s(e,["config"],dr(o,l,e)),e}function pr(o,n,e){const t={},r=i(n,["outputGcsUri"]);e!==void 0&&r!=null&&s(e,["parameters","storageUri"],r);const l=i(n,["negativePrompt"]);e!==void 0&&l!=null&&s(e,["parameters","negativePrompt"],l);const a=i(n,["numberOfImages"]);e!==void 0&&a!=null&&s(e,["parameters","sampleCount"],a);const u=i(n,["aspectRatio"]);e!==void 0&&u!=null&&s(e,["parameters","aspectRatio"],u);const d=i(n,["guidanceScale"]);e!==void 0&&d!=null&&s(e,["parameters","guidanceScale"],d);const f=i(n,["seed"]);e!==void 0&&f!=null&&s(e,["parameters","seed"],f);const c=i(n,["safetyFilterLevel"]);e!==void 0&&c!=null&&s(e,["parameters","safetySetting"],c);const p=i(n,["personGeneration"]);e!==void 0&&p!=null&&s(e,["parameters","personGeneration"],p);const m=i(n,["includeSafetyAttributes"]);e!==void 0&&m!=null&&s(e,["parameters","includeSafetyAttributes"],m);const g=i(n,["includeRaiReason"]);e!==void 0&&g!=null&&s(e,["parameters","includeRaiReason"],g);const h=i(n,["language"]);e!==void 0&&h!=null&&s(e,["parameters","language"],h);const y=i(n,["outputMimeType"]);e!==void 0&&y!=null&&s(e,["parameters","outputOptions","mimeType"],y);const C=i(n,["outputCompressionQuality"]);e!==void 0&&C!=null&&s(e,["parameters","outputOptions","compressionQuality"],C);const v=i(n,["addWatermark"]);e!==void 0&&v!=null&&s(e,["parameters","addWatermark"],v);const _=i(n,["enhancePrompt"]);return e!==void 0&&_!=null&&s(e,["parameters","enhancePrompt"],_),t}function mr(o,n){const e={},t=i(n,["model"]);t!=null&&s(e,["_url","model"],I(o,t));const r=i(n,["prompt"]);r!=null&&s(e,["instances[0]","prompt"],r);const l=i(n,["config"]);return l!=null&&s(e,["config"],pr(o,l,e)),e}function fe(o,n){const e={},t=i(n,["gcsUri"]);t!=null&&s(e,["gcsUri"],t);const r=i(n,["imageBytes"]);r!=null&&s(e,["bytesBase64Encoded"],N(o,r));const l=i(n,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function gr(o,n){const e={},t=i(n,["maskMode"]);t!=null&&s(e,["maskMode"],t);const r=i(n,["segmentationClasses"]);r!=null&&s(e,["maskClasses"],r);const l=i(n,["maskDilation"]);return l!=null&&s(e,["dilation"],l),e}function hr(o,n){const e={},t=i(n,["controlType"]);t!=null&&s(e,["controlType"],t);const r=i(n,["enableControlImageComputation"]);return r!=null&&s(e,["computeControl"],r),e}function yr(o,n){const e={},t=i(n,["styleDescription"]);return t!=null&&s(e,["styleDescription"],t),e}function Tr(o,n){const e={},t=i(n,["subjectType"]);t!=null&&s(e,["subjectType"],t);const r=i(n,["subjectDescription"]);return r!=null&&s(e,["subjectDescription"],r),e}function Cr(o,n){const e={},t=i(n,["referenceImage"]);t!=null&&s(e,["referenceImage"],fe(o,t));const r=i(n,["referenceId"]);r!=null&&s(e,["referenceId"],r);const l=i(n,["referenceType"]);l!=null&&s(e,["referenceType"],l);const a=i(n,["maskImageConfig"]);a!=null&&s(e,["maskImageConfig"],gr(o,a));const u=i(n,["controlImageConfig"]);u!=null&&s(e,["controlImageConfig"],hr(o,u));const d=i(n,["styleImageConfig"]);d!=null&&s(e,["styleImageConfig"],yr(o,d));const f=i(n,["subjectImageConfig"]);return f!=null&&s(e,["subjectImageConfig"],Tr(o,f)),e}function Er(o,n,e){const t={},r=i(n,["outputGcsUri"]);e!==void 0&&r!=null&&s(e,["parameters","storageUri"],r);const l=i(n,["negativePrompt"]);e!==void 0&&l!=null&&s(e,["parameters","negativePrompt"],l);const a=i(n,["numberOfImages"]);e!==void 0&&a!=null&&s(e,["parameters","sampleCount"],a);const u=i(n,["aspectRatio"]);e!==void 0&&u!=null&&s(e,["parameters","aspectRatio"],u);const d=i(n,["guidanceScale"]);e!==void 0&&d!=null&&s(e,["parameters","guidanceScale"],d);const f=i(n,["seed"]);e!==void 0&&f!=null&&s(e,["parameters","seed"],f);const c=i(n,["safetyFilterLevel"]);e!==void 0&&c!=null&&s(e,["parameters","safetySetting"],c);const p=i(n,["personGeneration"]);e!==void 0&&p!=null&&s(e,["parameters","personGeneration"],p);const m=i(n,["includeSafetyAttributes"]);e!==void 0&&m!=null&&s(e,["parameters","includeSafetyAttributes"],m);const g=i(n,["includeRaiReason"]);e!==void 0&&g!=null&&s(e,["parameters","includeRaiReason"],g);const h=i(n,["language"]);e!==void 0&&h!=null&&s(e,["parameters","language"],h);const y=i(n,["outputMimeType"]);e!==void 0&&y!=null&&s(e,["parameters","outputOptions","mimeType"],y);const C=i(n,["outputCompressionQuality"]);e!==void 0&&C!=null&&s(e,["parameters","outputOptions","compressionQuality"],C);const v=i(n,["editMode"]);e!==void 0&&v!=null&&s(e,["parameters","editMode"],v);const _=i(n,["baseSteps"]);return e!==void 0&&_!=null&&s(e,["parameters","editConfig","baseSteps"],_),t}function vr(o,n){const e={},t=i(n,["model"]);t!=null&&s(e,["_url","model"],I(o,t));const r=i(n,["prompt"]);r!=null&&s(e,["instances[0]","prompt"],r);const l=i(n,["referenceImages"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>Cr(o,d))),s(e,["instances[0]","referenceImages"],u)}const a=i(n,["config"]);return a!=null&&s(e,["config"],Er(o,a,e)),e}function _r(o,n,e){const t={},r=i(n,["includeRaiReason"]);e!==void 0&&r!=null&&s(e,["parameters","includeRaiReason"],r);const l=i(n,["outputMimeType"]);e!==void 0&&l!=null&&s(e,["parameters","outputOptions","mimeType"],l);const a=i(n,["outputCompressionQuality"]);e!==void 0&&a!=null&&s(e,["parameters","outputOptions","compressionQuality"],a);const u=i(n,["numberOfImages"]);e!==void 0&&u!=null&&s(e,["parameters","sampleCount"],u);const d=i(n,["mode"]);return e!==void 0&&d!=null&&s(e,["parameters","mode"],d),t}function Ir(o,n){const e={},t=i(n,["model"]);t!=null&&s(e,["_url","model"],I(o,t));const r=i(n,["image"]);r!=null&&s(e,["instances[0]","image"],fe(o,r));const l=i(n,["upscaleFactor"]);l!=null&&s(e,["parameters","upscaleConfig","upscaleFactor"],l);const a=i(n,["config"]);return a!=null&&s(e,["config"],_r(o,a,e)),e}function Sr(o,n){const e={},t=i(n,["model"]);t!=null&&s(e,["_url","name"],I(o,t));const r=i(n,["config"]);return r!=null&&s(e,["config"],r),e}function Ar(o,n,e){const t={},r=i(n,["pageSize"]);e!==void 0&&r!=null&&s(e,["_query","pageSize"],r);const l=i(n,["pageToken"]);e!==void 0&&l!=null&&s(e,["_query","pageToken"],l);const a=i(n,["filter"]);e!==void 0&&a!=null&&s(e,["_query","filter"],a);const u=i(n,["queryBase"]);return e!==void 0&&u!=null&&s(e,["_url","models_url"],Dn(o,u)),t}function Mr(o,n){const e={},t=i(n,["config"]);return t!=null&&s(e,["config"],Ar(o,t,e)),e}function Pr(o,n,e){const t={},r=i(n,["displayName"]);e!==void 0&&r!=null&&s(e,["displayName"],r);const l=i(n,["description"]);e!==void 0&&l!=null&&s(e,["description"],l);const a=i(n,["defaultCheckpointId"]);return e!==void 0&&a!=null&&s(e,["defaultCheckpointId"],a),t}function Rr(o,n){const e={},t=i(n,["model"]);t!=null&&s(e,["_url","model"],I(o,t));const r=i(n,["config"]);return r!=null&&s(e,["config"],Pr(o,r,e)),e}function Dr(o,n){const e={},t=i(n,["model"]);t!=null&&s(e,["_url","name"],I(o,t));const r=i(n,["config"]);return r!=null&&s(e,["config"],r),e}function xr(o,n,e){const t={},r=i(n,["systemInstruction"]);e!==void 0&&r!=null&&s(e,["systemInstruction"],U(o,P(o,r)));const l=i(n,["tools"]);if(e!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>Nn(o,d))),s(e,["tools"],u)}const a=i(n,["generationConfig"]);return e!==void 0&&a!=null&&s(e,["generationConfig"],a),t}function wr(o,n){const e={},t=i(n,["model"]);t!=null&&s(e,["_url","model"],I(o,t));const r=i(n,["contents"]);if(r!=null){let a=x(o,r);Array.isArray(a)&&(a=a.map(u=>U(o,u))),s(e,["contents"],a)}const l=i(n,["config"]);return l!=null&&s(e,["config"],xr(o,l,e)),e}function Nr(o,n){const e={},t=i(n,["model"]);t!=null&&s(e,["_url","model"],I(o,t));const r=i(n,["contents"]);if(r!=null){let a=x(o,r);Array.isArray(a)&&(a=a.map(u=>U(o,u))),s(e,["contents"],a)}const l=i(n,["config"]);return l!=null&&s(e,["config"],l),e}function Vr(o,n,e){const t={},r=i(n,["numberOfVideos"]);e!==void 0&&r!=null&&s(e,["parameters","sampleCount"],r);const l=i(n,["outputGcsUri"]);e!==void 0&&l!=null&&s(e,["parameters","storageUri"],l);const a=i(n,["fps"]);e!==void 0&&a!=null&&s(e,["parameters","fps"],a);const u=i(n,["durationSeconds"]);e!==void 0&&u!=null&&s(e,["parameters","durationSeconds"],u);const d=i(n,["seed"]);e!==void 0&&d!=null&&s(e,["parameters","seed"],d);const f=i(n,["aspectRatio"]);e!==void 0&&f!=null&&s(e,["parameters","aspectRatio"],f);const c=i(n,["resolution"]);e!==void 0&&c!=null&&s(e,["parameters","resolution"],c);const p=i(n,["personGeneration"]);e!==void 0&&p!=null&&s(e,["parameters","personGeneration"],p);const m=i(n,["pubsubTopic"]);e!==void 0&&m!=null&&s(e,["parameters","pubsubTopic"],m);const g=i(n,["negativePrompt"]);e!==void 0&&g!=null&&s(e,["parameters","negativePrompt"],g);const h=i(n,["enhancePrompt"]);return e!==void 0&&h!=null&&s(e,["parameters","enhancePrompt"],h),t}function Lr(o,n){const e={},t=i(n,["model"]);t!=null&&s(e,["_url","model"],I(o,t));const r=i(n,["prompt"]);r!=null&&s(e,["instances[0]","prompt"],r);const l=i(n,["image"]);l!=null&&s(e,["instances[0]","image"],fe(o,l));const a=i(n,["config"]);return a!=null&&s(e,["config"],Vr(o,a,e)),e}function Ur(o,n){const e={},t=i(n,["data"]);t!=null&&s(e,["data"],t);const r=i(n,["mimeType"]);return r!=null&&s(e,["mimeType"],r),e}function Fr(o,n){const e={},t=i(n,["thought"]);t!=null&&s(e,["thought"],t);const r=i(n,["inlineData"]);r!=null&&s(e,["inlineData"],Ur(o,r));const l=i(n,["codeExecutionResult"]);l!=null&&s(e,["codeExecutionResult"],l);const a=i(n,["executableCode"]);a!=null&&s(e,["executableCode"],a);const u=i(n,["fileData"]);u!=null&&s(e,["fileData"],u);const d=i(n,["functionCall"]);d!=null&&s(e,["functionCall"],d);const f=i(n,["functionResponse"]);f!=null&&s(e,["functionResponse"],f);const c=i(n,["text"]);return c!=null&&s(e,["text"],c),e}function kr(o,n){const e={},t=i(n,["parts"]);if(t!=null){let l=t;Array.isArray(l)&&(l=l.map(a=>Fr(o,a))),s(e,["parts"],l)}const r=i(n,["role"]);return r!=null&&s(e,["role"],r),e}function Gr(o,n){const e={},t=i(n,["citationSources"]);return t!=null&&s(e,["citations"],t),e}function qr(o,n){const e={},t=i(n,["content"]);t!=null&&s(e,["content"],kr(o,t));const r=i(n,["citationMetadata"]);r!=null&&s(e,["citationMetadata"],Gr(o,r));const l=i(n,["tokenCount"]);l!=null&&s(e,["tokenCount"],l);const a=i(n,["finishReason"]);a!=null&&s(e,["finishReason"],a);const u=i(n,["avgLogprobs"]);u!=null&&s(e,["avgLogprobs"],u);const d=i(n,["groundingMetadata"]);d!=null&&s(e,["groundingMetadata"],d);const f=i(n,["index"]);f!=null&&s(e,["index"],f);const c=i(n,["logprobsResult"]);c!=null&&s(e,["logprobsResult"],c);const p=i(n,["safetyRatings"]);return p!=null&&s(e,["safetyRatings"],p),e}function mn(o,n){const e={},t=i(n,["candidates"]);if(t!=null){let u=t;Array.isArray(u)&&(u=u.map(d=>qr(o,d))),s(e,["candidates"],u)}const r=i(n,["modelVersion"]);r!=null&&s(e,["modelVersion"],r);const l=i(n,["promptFeedback"]);l!=null&&s(e,["promptFeedback"],l);const a=i(n,["usageMetadata"]);return a!=null&&s(e,["usageMetadata"],a),e}function Br(o,n){const e={},t=i(n,["values"]);return t!=null&&s(e,["values"],t),e}function Hr(){return{}}function Jr(o,n){const e={},t=i(n,["embeddings"]);if(t!=null){let l=t;Array.isArray(l)&&(l=l.map(a=>Br(o,a))),s(e,["embeddings"],l)}return i(n,["metadata"])!=null&&s(e,["metadata"],Hr()),e}function Yr(o,n){const e={},t=i(n,["bytesBase64Encoded"]);t!=null&&s(e,["imageBytes"],N(o,t));const r=i(n,["mimeType"]);return r!=null&&s(e,["mimeType"],r),e}function Vn(o,n){const e={},t=i(n,["safetyAttributes","categories"]);t!=null&&s(e,["categories"],t);const r=i(n,["safetyAttributes","scores"]);r!=null&&s(e,["scores"],r);const l=i(n,["contentType"]);return l!=null&&s(e,["contentType"],l),e}function $r(o,n){const e={},t=i(n,["_self"]);t!=null&&s(e,["image"],Yr(o,t));const r=i(n,["raiFilteredReason"]);r!=null&&s(e,["raiFilteredReason"],r);const l=i(n,["_self"]);return l!=null&&s(e,["safetyAttributes"],Vn(o,l)),e}function Kr(o,n){const e={},t=i(n,["predictions"]);if(t!=null){let l=t;Array.isArray(l)&&(l=l.map(a=>$r(o,a))),s(e,["generatedImages"],l)}const r=i(n,["positivePromptSafetyAttributes"]);return r!=null&&s(e,["positivePromptSafetyAttributes"],Vn(o,r)),e}function Wr(o,n){const e={},t=i(n,["baseModel"]);t!=null&&s(e,["baseModel"],t);const r=i(n,["createTime"]);r!=null&&s(e,["createTime"],r);const l=i(n,["updateTime"]);return l!=null&&s(e,["updateTime"],l),e}function se(o,n){const e={},t=i(n,["name"]);t!=null&&s(e,["name"],t);const r=i(n,["displayName"]);r!=null&&s(e,["displayName"],r);const l=i(n,["description"]);l!=null&&s(e,["description"],l);const a=i(n,["version"]);a!=null&&s(e,["version"],a);const u=i(n,["_self"]);u!=null&&s(e,["tunedModelInfo"],Wr(o,u));const d=i(n,["inputTokenLimit"]);d!=null&&s(e,["inputTokenLimit"],d);const f=i(n,["outputTokenLimit"]);f!=null&&s(e,["outputTokenLimit"],f);const c=i(n,["supportedGenerationMethods"]);return c!=null&&s(e,["supportedActions"],c),e}function zr(o,n){const e={},t=i(n,["nextPageToken"]);t!=null&&s(e,["nextPageToken"],t);const r=i(n,["_self"]);if(r!=null){let l=xn(o,r);Array.isArray(l)&&(l=l.map(a=>se(o,a))),s(e,["models"],l)}return e}function br(){return{}}function Or(o,n){const e={},t=i(n,["totalTokens"]);t!=null&&s(e,["totalTokens"],t);const r=i(n,["cachedContentTokenCount"]);return r!=null&&s(e,["cachedContentTokenCount"],r),e}function Xr(o,n){const e={},t=i(n,["video","uri"]);t!=null&&s(e,["uri"],t);const r=i(n,["video","encodedVideo"]);r!=null&&s(e,["videoBytes"],N(o,r));const l=i(n,["encoding"]);return l!=null&&s(e,["mimeType"],l),e}function Qr(o,n){const e={},t=i(n,["_self"]);return t!=null&&s(e,["video"],Xr(o,t)),e}function Zr(o,n){const e={},t=i(n,["generatedSamples"]);if(t!=null){let a=t;Array.isArray(a)&&(a=a.map(u=>Qr(o,u))),s(e,["generatedVideos"],a)}const r=i(n,["raiMediaFilteredCount"]);r!=null&&s(e,["raiMediaFilteredCount"],r);const l=i(n,["raiMediaFilteredReasons"]);return l!=null&&s(e,["raiMediaFilteredReasons"],l),e}function jr(o,n){const e={},t=i(n,["name"]);t!=null&&s(e,["name"],t);const r=i(n,["metadata"]);r!=null&&s(e,["metadata"],r);const l=i(n,["done"]);l!=null&&s(e,["done"],l);const a=i(n,["error"]);a!=null&&s(e,["error"],a);const u=i(n,["response","generateVideoResponse"]);return u!=null&&s(e,["response"],Zr(o,u)),e}function es(o,n){const e={},t=i(n,["displayName"]);t!=null&&s(e,["displayName"],t);const r=i(n,["data"]);r!=null&&s(e,["data"],r);const l=i(n,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function ns(o,n){const e={},t=i(n,["videoMetadata"]);t!=null&&s(e,["videoMetadata"],t);const r=i(n,["thought"]);r!=null&&s(e,["thought"],r);const l=i(n,["inlineData"]);l!=null&&s(e,["inlineData"],es(o,l));const a=i(n,["codeExecutionResult"]);a!=null&&s(e,["codeExecutionResult"],a);const u=i(n,["executableCode"]);u!=null&&s(e,["executableCode"],u);const d=i(n,["fileData"]);d!=null&&s(e,["fileData"],d);const f=i(n,["functionCall"]);f!=null&&s(e,["functionCall"],f);const c=i(n,["functionResponse"]);c!=null&&s(e,["functionResponse"],c);const p=i(n,["text"]);return p!=null&&s(e,["text"],p),e}function ts(o,n){const e={},t=i(n,["parts"]);if(t!=null){let l=t;Array.isArray(l)&&(l=l.map(a=>ns(o,a))),s(e,["parts"],l)}const r=i(n,["role"]);return r!=null&&s(e,["role"],r),e}function os(o,n){const e={},t=i(n,["citations"]);return t!=null&&s(e,["citations"],t),e}function is(o,n){const e={},t=i(n,["content"]);t!=null&&s(e,["content"],ts(o,t));const r=i(n,["citationMetadata"]);r!=null&&s(e,["citationMetadata"],os(o,r));const l=i(n,["finishMessage"]);l!=null&&s(e,["finishMessage"],l);const a=i(n,["finishReason"]);a!=null&&s(e,["finishReason"],a);const u=i(n,["avgLogprobs"]);u!=null&&s(e,["avgLogprobs"],u);const d=i(n,["groundingMetadata"]);d!=null&&s(e,["groundingMetadata"],d);const f=i(n,["index"]);f!=null&&s(e,["index"],f);const c=i(n,["logprobsResult"]);c!=null&&s(e,["logprobsResult"],c);const p=i(n,["safetyRatings"]);return p!=null&&s(e,["safetyRatings"],p),e}function gn(o,n){const e={},t=i(n,["candidates"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(c=>is(o,c))),s(e,["candidates"],f)}const r=i(n,["createTime"]);r!=null&&s(e,["createTime"],r);const l=i(n,["responseId"]);l!=null&&s(e,["responseId"],l);const a=i(n,["modelVersion"]);a!=null&&s(e,["modelVersion"],a);const u=i(n,["promptFeedback"]);u!=null&&s(e,["promptFeedback"],u);const d=i(n,["usageMetadata"]);return d!=null&&s(e,["usageMetadata"],d),e}function rs(o,n){const e={},t=i(n,["truncated"]);t!=null&&s(e,["truncated"],t);const r=i(n,["token_count"]);return r!=null&&s(e,["tokenCount"],r),e}function ss(o,n){const e={},t=i(n,["values"]);t!=null&&s(e,["values"],t);const r=i(n,["statistics"]);return r!=null&&s(e,["statistics"],rs(o,r)),e}function ls(o,n){const e={},t=i(n,["billableCharacterCount"]);return t!=null&&s(e,["billableCharacterCount"],t),e}function as(o,n){const e={},t=i(n,["predictions[]","embeddings"]);if(t!=null){let l=t;Array.isArray(l)&&(l=l.map(a=>ss(o,a))),s(e,["embeddings"],l)}const r=i(n,["metadata"]);return r!=null&&s(e,["metadata"],ls(o,r)),e}function us(o,n){const e={},t=i(n,["gcsUri"]);t!=null&&s(e,["gcsUri"],t);const r=i(n,["bytesBase64Encoded"]);r!=null&&s(e,["imageBytes"],N(o,r));const l=i(n,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function Ln(o,n){const e={},t=i(n,["safetyAttributes","categories"]);t!=null&&s(e,["categories"],t);const r=i(n,["safetyAttributes","scores"]);r!=null&&s(e,["scores"],r);const l=i(n,["contentType"]);return l!=null&&s(e,["contentType"],l),e}function de(o,n){const e={},t=i(n,["_self"]);t!=null&&s(e,["image"],us(o,t));const r=i(n,["raiFilteredReason"]);r!=null&&s(e,["raiFilteredReason"],r);const l=i(n,["_self"]);l!=null&&s(e,["safetyAttributes"],Ln(o,l));const a=i(n,["prompt"]);return a!=null&&s(e,["enhancedPrompt"],a),e}function fs(o,n){const e={},t=i(n,["predictions"]);if(t!=null){let l=t;Array.isArray(l)&&(l=l.map(a=>de(o,a))),s(e,["generatedImages"],l)}const r=i(n,["positivePromptSafetyAttributes"]);return r!=null&&s(e,["positivePromptSafetyAttributes"],Ln(o,r)),e}function ds(o,n){const e={},t=i(n,["predictions"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(l=>de(o,l))),s(e,["generatedImages"],r)}return e}function cs(o,n){const e={},t=i(n,["predictions"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(l=>de(o,l))),s(e,["generatedImages"],r)}return e}function ps(o,n){const e={},t=i(n,["endpoint"]);t!=null&&s(e,["name"],t);const r=i(n,["deployedModelId"]);return r!=null&&s(e,["deployedModelId"],r),e}function ms(o,n){const e={},t=i(n,["labels","google-vertex-llm-tuning-base-model-id"]);t!=null&&s(e,["baseModel"],t);const r=i(n,["createTime"]);r!=null&&s(e,["createTime"],r);const l=i(n,["updateTime"]);return l!=null&&s(e,["updateTime"],l),e}function gs(o,n){const e={},t=i(n,["checkpointId"]);t!=null&&s(e,["checkpointId"],t);const r=i(n,["epoch"]);r!=null&&s(e,["epoch"],r);const l=i(n,["step"]);return l!=null&&s(e,["step"],l),e}function le(o,n){const e={},t=i(n,["name"]);t!=null&&s(e,["name"],t);const r=i(n,["displayName"]);r!=null&&s(e,["displayName"],r);const l=i(n,["description"]);l!=null&&s(e,["description"],l);const a=i(n,["versionId"]);a!=null&&s(e,["version"],a);const u=i(n,["deployedModels"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(g=>ps(o,g))),s(e,["endpoints"],m)}const d=i(n,["labels"]);d!=null&&s(e,["labels"],d);const f=i(n,["_self"]);f!=null&&s(e,["tunedModelInfo"],ms(o,f));const c=i(n,["defaultCheckpointId"]);c!=null&&s(e,["defaultCheckpointId"],c);const p=i(n,["checkpoints"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(g=>gs(o,g))),s(e,["checkpoints"],m)}return e}function hs(o,n){const e={},t=i(n,["nextPageToken"]);t!=null&&s(e,["nextPageToken"],t);const r=i(n,["_self"]);if(r!=null){let l=xn(o,r);Array.isArray(l)&&(l=l.map(a=>le(o,a))),s(e,["models"],l)}return e}function ys(){return{}}function Ts(o,n){const e={},t=i(n,["totalTokens"]);return t!=null&&s(e,["totalTokens"],t),e}function Cs(o,n){const e={},t=i(n,["tokensInfo"]);return t!=null&&s(e,["tokensInfo"],t),e}function Es(o,n){const e={},t=i(n,["gcsUri"]);t!=null&&s(e,["uri"],t);const r=i(n,["bytesBase64Encoded"]);r!=null&&s(e,["videoBytes"],N(o,r));const l=i(n,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function vs(o,n){const e={},t=i(n,["_self"]);return t!=null&&s(e,["video"],Es(o,t)),e}function _s(o,n){const e={},t=i(n,["videos"]);if(t!=null){let a=t;Array.isArray(a)&&(a=a.map(u=>vs(o,u))),s(e,["generatedVideos"],a)}const r=i(n,["raiMediaFilteredCount"]);r!=null&&s(e,["raiMediaFilteredCount"],r);const l=i(n,["raiMediaFilteredReasons"]);return l!=null&&s(e,["raiMediaFilteredReasons"],l),e}function Is(o,n){const e={},t=i(n,["name"]);t!=null&&s(e,["name"],t);const r=i(n,["metadata"]);r!=null&&s(e,["metadata"],r);const l=i(n,["done"]);l!=null&&s(e,["done"],l);const a=i(n,["error"]);a!=null&&s(e,["error"],a);const u=i(n,["response"]);return u!=null&&s(e,["response"],_s(o,u)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ss="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function As(o,n,e){const t=new Jt;let r;if(e.data instanceof Blob?r=JSON.parse(await e.data.text()):r=JSON.parse(e.data),o.isVertexAI()){const l=gi(o,r);Object.assign(t,l)}else{const l=mi(o,r);Object.assign(t,l)}n(t)}class Ms{constructor(n,e,t){this.apiClient=n,this.auth=e,this.webSocketFactory=t}async connect(n){var e,t,r,l;const a=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let d;const f=xs(this.apiClient.getDefaultHeaders());if(this.apiClient.isVertexAI())d=`${a}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(f);else{const E=this.apiClient.getApiKey();d=`${a}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateContent?key=${E}`}let c=()=>{};const p=new Promise(E=>{c=E}),m=n.callbacks,g=function(){var E;(E=m==null?void 0:m.onopen)===null||E===void 0||E.call(m),c({})},h=this.apiClient,y={onopen:g,onmessage:E=>{As(h,m.onmessage,E)},onerror:(e=m==null?void 0:m.onerror)!==null&&e!==void 0?e:function(E){},onclose:(t=m==null?void 0:m.onclose)!==null&&t!==void 0?t:function(E){}},C=this.webSocketFactory.create(d,Ds(f),y);C.connect(),await p;let v=I(this.apiClient,n.model);if(this.apiClient.isVertexAI()&&v.startsWith("publishers/")){const E=this.apiClient.getProject(),A=this.apiClient.getLocation();v=`projects/${E}/locations/${A}/`+v}let _={};this.apiClient.isVertexAI()&&((r=n.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(n.config===void 0?n.config={responseModalities:[z.AUDIO]}:n.config.responseModalities=[z.AUDIO]),!((l=n.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const S={model:v,config:n.config,callbacks:n.callbacks};return this.apiClient.isVertexAI()?_=qo(this.apiClient,S):_=Go(this.apiClient,S),delete _.config,C.send(JSON.stringify(_)),new Rs(C,this.apiClient)}}const Ps={turnComplete:!0};class Rs{constructor(n,e){this.conn=n,this.apiClient=e}tLiveClientContent(n,e){if(e.turns!==null&&e.turns!==void 0){let t=[];try{t=x(n,e.turns),n.isVertexAI()?t=t.map(r=>U(n,r)):t=t.map(r=>Z(n,r))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof e.turns}'`)}return{clientContent:{turns:t,turnComplete:e.turnComplete}}}return{clientContent:{turnComplete:e.turnComplete}}}tLiveClienttToolResponse(n,e){let t=[];if(e.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(e.functionResponses)?t=e.functionResponses:t=[e.functionResponses],t.length===0)throw new Error("functionResponses is required.");for(const l of t){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!n.isVertexAI()&&!("id"in l))throw new Error(Ss)}return{toolResponse:{functionResponses:t}}}sendClientContent(n){n=Object.assign(Object.assign({},Ps),n);const e=this.tLiveClientContent(this.apiClient,n);this.conn.send(JSON.stringify(e))}sendRealtimeInput(n){let e={};this.apiClient.isVertexAI()?e={realtimeInput:Ko(this.apiClient,n)}:e={realtimeInput:$o(this.apiClient,n)},this.conn.send(JSON.stringify(e))}sendToolResponse(n){if(n.functionResponses==null)throw new Error("Tool response parameters are required.");const e=this.tLiveClienttToolResponse(this.apiClient,n);this.conn.send(JSON.stringify(e))}close(){this.conn.close()}}function Ds(o){const n={};return o.forEach((e,t)=>{n[t]=e}),n}function xs(o){const n=new Headers;for(const[e,t]of Object.entries(o))n.append(e,t);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ws extends B{constructor(n){super(),this.apiClient=n,this.generateContent=async e=>await this.generateContentInternal(e),this.generateContentStream=async e=>await this.generateContentStreamInternal(e),this.generateImages=async e=>await this.generateImagesInternal(e).then(t=>{var r;let l;const a=[];if(t!=null&&t.generatedImages)for(const d of t.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((r=d==null?void 0:d.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?l=d==null?void 0:d.safetyAttributes:a.push(d);let u;return l?u={generatedImages:a,positivePromptSafetyAttributes:l}:u={generatedImages:a},u}),this.list=async e=>{var t;const a={config:Object.assign(Object.assign({},{queryBase:!0}),e==null?void 0:e.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((t=a.config)===null||t===void 0)&&t.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new Q(L.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(a),a)},this.editImage=async e=>{const t={model:e.model,prompt:e.prompt,referenceImages:[],config:e.config};return e.referenceImages&&e.referenceImages&&(t.referenceImages=e.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(t)},this.upscaleImage=async e=>{let t={numberOfImages:1,mode:"upscale"};e.config&&(t=Object.assign(Object.assign({},t),e.config));const r={model:e.model,image:e.image,upscaleFactor:e.upscaleFactor,config:t};return await this.upscaleImageInternal(r)}}async generateContentInternal(n){var e,t,r,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const f=pn(this.apiClient,n);return u=T("{model}:generateContent",f._url),d=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(t=n.config)===null||t===void 0?void 0:t.abortSignal}).then(c=>c.json()),a.then(c=>{const p=gn(this.apiClient,c),m=new H;return Object.assign(m,p),m})}else{const f=cn(this.apiClient,n);return u=T("{model}:generateContent",f._url),d=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(c=>c.json()),a.then(c=>{const p=mn(this.apiClient,c),m=new H;return Object.assign(m,p),m})}}async generateContentStreamInternal(n){var e,t,r,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const f=pn(this.apiClient,n);u=T("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f.config,delete f._url,delete f._query;const c=this.apiClient;return a=c.requestStream({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(t=n.config)===null||t===void 0?void 0:t.abortSignal}),a.then(function(p){return b(this,arguments,function*(){var m,g,h,y;try{for(var C=!0,v=ie(p),_;_=yield M(v.next()),m=_.done,!m;C=!0){y=_.value,C=!1;const E=gn(c,yield M(y.json())),A=new H;Object.assign(A,E),yield yield M(A)}}catch(S){g={error:S}}finally{try{!C&&!m&&(h=v.return)&&(yield M(h.call(v)))}finally{if(g)throw g.error}}})})}else{const f=cn(this.apiClient,n);u=T("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f.config,delete f._url,delete f._query;const c=this.apiClient;return a=c.requestStream({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}),a.then(function(p){return b(this,arguments,function*(){var m,g,h,y;try{for(var C=!0,v=ie(p),_;_=yield M(v.next()),m=_.done,!m;C=!0){y=_.value,C=!1;const E=mn(c,yield M(y.json())),A=new H;Object.assign(A,E),yield yield M(A)}}catch(S){g={error:S}}finally{try{!C&&!m&&(h=v.return)&&(yield M(h.call(v)))}finally{if(g)throw g.error}}})})}}async embedContent(n){var e,t,r,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const f=cr(this.apiClient,n);return u=T("{model}:predict",f._url),d=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(t=n.config)===null||t===void 0?void 0:t.abortSignal}).then(c=>c.json()),a.then(c=>{const p=as(this.apiClient,c),m=new Ze;return Object.assign(m,p),m})}else{const f=wi(this.apiClient,n);return u=T("{model}:batchEmbedContents",f._url),d=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(c=>c.json()),a.then(c=>{const p=Jr(this.apiClient,c),m=new Ze;return Object.assign(m,p),m})}}async generateImagesInternal(n){var e,t,r,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const f=mr(this.apiClient,n);return u=T("{model}:predict",f._url),d=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(t=n.config)===null||t===void 0?void 0:t.abortSignal}).then(c=>c.json()),a.then(c=>{const p=fs(this.apiClient,c),m=new je;return Object.assign(m,p),m})}else{const f=Vi(this.apiClient,n);return u=T("{model}:predict",f._url),d=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(c=>c.json()),a.then(c=>{const p=Kr(this.apiClient,c),m=new je;return Object.assign(m,p),m})}}async editImageInternal(n){var e,t;let r,l="",a={};if(this.apiClient.isVertexAI()){const u=vr(this.apiClient,n);return l=T("{model}:predict",u._url),a=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(t=n.config)===null||t===void 0?void 0:t.abortSignal}).then(d=>d.json()),r.then(d=>{const f=ds(this.apiClient,d),c=new Ft;return Object.assign(c,f),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(n){var e,t;let r,l="",a={};if(this.apiClient.isVertexAI()){const u=Ir(this.apiClient,n);return l=T("{model}:predict",u._url),a=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(t=n.config)===null||t===void 0?void 0:t.abortSignal}).then(d=>d.json()),r.then(d=>{const f=cs(this.apiClient,d),c=new kt;return Object.assign(c,f),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(n){var e,t,r,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const f=Sr(this.apiClient,n);return u=T("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(t=n.config)===null||t===void 0?void 0:t.abortSignal}).then(c=>c.json()),a.then(c=>le(this.apiClient,c))}else{const f=Li(this.apiClient,n);return u=T("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(c=>c.json()),a.then(c=>se(this.apiClient,c))}}async listInternal(n){var e,t,r,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const f=Mr(this.apiClient,n);return u=T("{models_url}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(t=n.config)===null||t===void 0?void 0:t.abortSignal}).then(c=>c.json()),a.then(c=>{const p=hs(this.apiClient,c),m=new en;return Object.assign(m,p),m})}else{const f=Fi(this.apiClient,n);return u=T("{models_url}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(c=>c.json()),a.then(c=>{const p=zr(this.apiClient,c),m=new en;return Object.assign(m,p),m})}}async update(n){var e,t,r,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const f=Rr(this.apiClient,n);return u=T("{model}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(t=n.config)===null||t===void 0?void 0:t.abortSignal}).then(c=>c.json()),a.then(c=>le(this.apiClient,c))}else{const f=Gi(this.apiClient,n);return u=T("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(c=>c.json()),a.then(c=>se(this.apiClient,c))}}async delete(n){var e,t,r,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const f=Dr(this.apiClient,n);return u=T("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(t=n.config)===null||t===void 0?void 0:t.abortSignal}).then(c=>c.json()),a.then(()=>{const c=ys(),p=new nn;return Object.assign(p,c),p})}else{const f=qi(this.apiClient,n);return u=T("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(c=>c.json()),a.then(()=>{const c=br(),p=new nn;return Object.assign(p,c),p})}}async countTokens(n){var e,t,r,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const f=wr(this.apiClient,n);return u=T("{model}:countTokens",f._url),d=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(t=n.config)===null||t===void 0?void 0:t.abortSignal}).then(c=>c.json()),a.then(c=>{const p=Ts(this.apiClient,c),m=new tn;return Object.assign(m,p),m})}else{const f=Hi(this.apiClient,n);return u=T("{model}:countTokens",f._url),d=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(c=>c.json()),a.then(c=>{const p=Or(this.apiClient,c),m=new tn;return Object.assign(m,p),m})}}async computeTokens(n){var e,t;let r,l="",a={};if(this.apiClient.isVertexAI()){const u=Nr(this.apiClient,n);return l=T("{model}:computeTokens",u._url),a=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(t=n.config)===null||t===void 0?void 0:t.abortSignal}).then(d=>d.json()),r.then(d=>{const f=Cs(this.apiClient,d),c=new Gt;return Object.assign(c,f),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(n){var e,t,r,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const f=Lr(this.apiClient,n);return u=T("{model}:predictLongRunning",f._url),d=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(t=n.config)===null||t===void 0?void 0:t.abortSignal}).then(c=>c.json()),a.then(c=>Is(this.apiClient,c))}else{const f=$i(this.apiClient,n);return u=T("{model}:predictLongRunning",f._url),d=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(c=>c.json()),a.then(c=>jr(this.apiClient,c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ns(o,n){const e={},t=i(n,["operationName"]);t!=null&&s(e,["_url","operationName"],t);const r=i(n,["config"]);return r!=null&&s(e,["config"],r),e}function Vs(o,n){const e={},t=i(n,["operationName"]);t!=null&&s(e,["_url","operationName"],t);const r=i(n,["config"]);return r!=null&&s(e,["config"],r),e}function Ls(o,n){const e={},t=i(n,["operationName"]);t!=null&&s(e,["operationName"],t);const r=i(n,["resourceName"]);r!=null&&s(e,["_url","resourceName"],r);const l=i(n,["config"]);return l!=null&&s(e,["config"],l),e}function Us(o,n){const e={},t=i(n,["video","uri"]);t!=null&&s(e,["uri"],t);const r=i(n,["video","encodedVideo"]);r!=null&&s(e,["videoBytes"],N(o,r));const l=i(n,["encoding"]);return l!=null&&s(e,["mimeType"],l),e}function Fs(o,n){const e={},t=i(n,["_self"]);return t!=null&&s(e,["video"],Us(o,t)),e}function ks(o,n){const e={},t=i(n,["generatedSamples"]);if(t!=null){let a=t;Array.isArray(a)&&(a=a.map(u=>Fs(o,u))),s(e,["generatedVideos"],a)}const r=i(n,["raiMediaFilteredCount"]);r!=null&&s(e,["raiMediaFilteredCount"],r);const l=i(n,["raiMediaFilteredReasons"]);return l!=null&&s(e,["raiMediaFilteredReasons"],l),e}function Gs(o,n){const e={},t=i(n,["name"]);t!=null&&s(e,["name"],t);const r=i(n,["metadata"]);r!=null&&s(e,["metadata"],r);const l=i(n,["done"]);l!=null&&s(e,["done"],l);const a=i(n,["error"]);a!=null&&s(e,["error"],a);const u=i(n,["response","generateVideoResponse"]);return u!=null&&s(e,["response"],ks(o,u)),e}function qs(o,n){const e={},t=i(n,["gcsUri"]);t!=null&&s(e,["uri"],t);const r=i(n,["bytesBase64Encoded"]);r!=null&&s(e,["videoBytes"],N(o,r));const l=i(n,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function Bs(o,n){const e={},t=i(n,["_self"]);return t!=null&&s(e,["video"],qs(o,t)),e}function Hs(o,n){const e={},t=i(n,["videos"]);if(t!=null){let a=t;Array.isArray(a)&&(a=a.map(u=>Bs(o,u))),s(e,["generatedVideos"],a)}const r=i(n,["raiMediaFilteredCount"]);r!=null&&s(e,["raiMediaFilteredCount"],r);const l=i(n,["raiMediaFilteredReasons"]);return l!=null&&s(e,["raiMediaFilteredReasons"],l),e}function hn(o,n){const e={},t=i(n,["name"]);t!=null&&s(e,["name"],t);const r=i(n,["metadata"]);r!=null&&s(e,["metadata"],r);const l=i(n,["done"]);l!=null&&s(e,["done"],l);const a=i(n,["error"]);a!=null&&s(e,["error"],a);const u=i(n,["response"]);return u!=null&&s(e,["response"],Hs(o,u)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Js extends B{constructor(n){super(),this.apiClient=n}async getVideosOperation(n){const e=n.operation,t=n.config;if(e.name===void 0||e.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=e.name.split("/operations/")[0];let l;return t&&"httpOptions"in t&&(l=t.httpOptions),this.fetchPredictVideosOperationInternal({operationName:e.name,resourceName:r,config:{httpOptions:l}})}else return this.getVideosOperationInternal({operationName:e.name,config:t})}async getVideosOperationInternal(n){var e,t,r,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const f=Vs(this.apiClient,n);return u=T("{operationName}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(t=n.config)===null||t===void 0?void 0:t.abortSignal}).then(c=>c.json()),a.then(c=>hn(this.apiClient,c))}else{const f=Ns(this.apiClient,n);return u=T("{operationName}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(c=>c.json()),a.then(c=>Gs(this.apiClient,c))}}async fetchPredictVideosOperationInternal(n){var e,t;let r,l="",a={};if(this.apiClient.isVertexAI()){const u=Ls(this.apiClient,n);return l=T("{resourceName}:fetchPredictOperation",u._url),a=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(t=n.config)===null||t===void 0?void 0:t.abortSignal}).then(d=>d.json()),r.then(d=>hn(this.apiClient,d))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ys="Content-Type",$s="X-Server-Timeout",Ks="User-Agent",Ws="x-goog-api-client",zs="0.14.0",bs=`google-genai-sdk/${zs}`,Os="v1beta1",Xs="v1beta",yn=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Un extends Error{constructor(n,e){e?super(n,{cause:e}):super(n,{cause:new Error().stack}),this.message=n,this.name="ClientError"}}class ae extends Error{constructor(n,e){e?super(n,{cause:e}):super(n,{cause:new Error().stack}),this.message=n,this.name="ServerError"}}class Qs{constructor(n){var e,t;this.clientOptions=Object.assign(Object.assign({},n),{project:n.project,location:n.location,apiKey:n.apiKey,vertexai:n.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(e=this.clientOptions.apiVersion)!==null&&e!==void 0?e:Os,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:Xs,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,n.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,n.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var n;return(n=this.clientOptions.vertexai)!==null&&n!==void 0?n:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(n){if(!n||n.baseUrl===void 0||n.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const t=[n.baseUrl.endsWith("/")?n.baseUrl.slice(0,-1):n.baseUrl];return n.apiVersion&&n.apiVersion!==""&&t.push(n.apiVersion),t.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const n=this.getBaseUrl(),e=new URL(n);return e.protocol=e.protocol=="http:"?"ws":"wss",e.toString()}setBaseUrl(n){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=n;else throw new Error("HTTP options are not correctly set.")}constructUrl(n,e,t){const r=[this.getRequestUrlInternal(e)];return t&&r.push(this.getBaseResourcePath()),n!==""&&r.push(n),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(n){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||n.path.startsWith("projects/")||n.httpMethod==="GET"&&n.path.startsWith("publishers/google/models"))}async request(n){let e=this.clientOptions.httpOptions;n.httpOptions&&(e=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const t=this.shouldPrependVertexProjectPath(n),r=this.constructUrl(n.path,e,t);if(n.queryParams)for(const[a,u]of Object.entries(n.queryParams))r.searchParams.append(a,String(u));let l={};if(n.httpMethod==="GET"){if(n.body&&n.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=n.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,e,n.abortSignal),this.unaryApiCall(r,l,n.httpMethod)}patchHttpOptions(n,e){const t=JSON.parse(JSON.stringify(n));for(const[r,l]of Object.entries(e))typeof l=="object"?t[r]=Object.assign(Object.assign({},t[r]),l):l!==void 0&&(t[r]=l);return t}async requestStream(n){let e=this.clientOptions.httpOptions;n.httpOptions&&(e=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const t=this.shouldPrependVertexProjectPath(n),r=this.constructUrl(n.path,e,t);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let l={};return l.body=n.body,l=await this.includeExtraHttpOptionsToRequestInit(l,e,n.abortSignal),this.streamApiCall(r,l,n.httpMethod)}async includeExtraHttpOptionsToRequestInit(n,e,t){if(e&&e.timeout||t){const r=new AbortController,l=r.signal;e.timeout&&(e==null?void 0:e.timeout)>0&&setTimeout(()=>r.abort(),e.timeout),t&&t.addEventListener("abort",()=>{r.abort()}),n.signal=l}return n.headers=await this.getHeadersInternal(e),n}async unaryApiCall(n,e,t){return this.apiCall(n.toString(),Object.assign(Object.assign({},e),{method:t})).then(async r=>(await Tn(r),new oe(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(n,e,t){return this.apiCall(n.toString(),Object.assign(Object.assign({},e),{method:t})).then(async r=>(await Tn(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(n){var e;return b(this,arguments,function*(){const r=(e=n==null?void 0:n.body)===null||e===void 0?void 0:e.getReader(),l=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let a="";for(;;){const{done:u,value:d}=yield M(r.read());if(u){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=l.decode(d);try{const p=JSON.parse(f);if("error"in p){const m=JSON.parse(JSON.stringify(p.error)),g=m.status,h=m.code,y=`got status: ${g}. ${JSON.stringify(p)}`;if(h>=400&&h<500)throw new Un(y);if(h>=500&&h<600)throw new ae(y)}}catch(p){const m=p;if(m.name==="ClientError"||m.name==="ServerError")throw p}a+=f;let c=a.match(yn);for(;c;){const p=c[1];try{const m=new Response(p,{headers:n==null?void 0:n.headers,status:n==null?void 0:n.status,statusText:n==null?void 0:n.statusText});yield yield M(new oe(m)),a=a.slice(c[0].length),c=a.match(yn)}catch(m){throw new Error(`exception parsing stream chunk ${p}. ${m}`)}}}}finally{r.releaseLock()}})}async apiCall(n,e){return fetch(n,e).catch(t=>{throw new Error(`exception ${t} sending request`)})}getDefaultHeaders(){const n={},e=bs+" "+this.clientOptions.userAgentExtra;return n[Ks]=e,n[Ws]=e,n[Ys]="application/json",n}async getHeadersInternal(n){const e=new Headers;if(n&&n.headers){for(const[t,r]of Object.entries(n.headers))e.append(t,r);n.timeout&&n.timeout>0&&e.append($s,String(Math.ceil(n.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(e),e}async uploadFile(n,e){var t;const r={};e!=null&&(r.mimeType=e.mimeType,r.name=e.name,r.displayName=e.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const l=this.clientOptions.uploader,a=await l.stat(n);r.sizeBytes=String(a.size);const u=(t=e==null?void 0:e.mimeType)!==null&&t!==void 0?t:a.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=u;const d=await this.fetchUploadUrl(r,e);return l.upload(n,d,this)}async downloadFile(n){await this.clientOptions.downloader.download(n,this)}async fetchUploadUrl(n,e){var t;let r={};e!=null&&e.httpOptions?r=e.httpOptions:r={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${n.mimeType}`}};const l={file:n},a=await this.request({path:T("upload/v1beta/files",l._url),body:JSON.stringify(l),httpMethod:"POST",httpOptions:r});if(!a||!(a!=null&&a.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(t=a==null?void 0:a.headers)===null||t===void 0?void 0:t["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function Tn(o){var n;if(o===void 0)throw new ae("response is undefined");if(!o.ok){const e=o.status,t=o.statusText;let r;!((n=o.headers.get("content-type"))===null||n===void 0)&&n.includes("application/json")?r=await o.json():r={error:{message:await o.text(),code:o.status,status:o.statusText}};const l=`got status: ${e} ${t}. ${JSON.stringify(r)}`;throw e>=400&&e<500?new Un(l):e>=500&&e<600?new ae(l):new Error(l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zs(o,n){const e={},t=i(n,["name"]);t!=null&&s(e,["_url","name"],t);const r=i(n,["config"]);return r!=null&&s(e,["config"],r),e}function js(o,n,e){const t={},r=i(n,["pageSize"]);e!==void 0&&r!=null&&s(e,["_query","pageSize"],r);const l=i(n,["pageToken"]);e!==void 0&&l!=null&&s(e,["_query","pageToken"],l);const a=i(n,["filter"]);return e!==void 0&&a!=null&&s(e,["_query","filter"],a),t}function el(o,n){const e={},t=i(n,["config"]);return t!=null&&s(e,["config"],js(o,t,e)),e}function nl(o,n){const e={},t=i(n,["textInput"]);t!=null&&s(e,["textInput"],t);const r=i(n,["output"]);return r!=null&&s(e,["output"],r),e}function tl(o,n){const e={};if(i(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const t=i(n,["examples"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(l=>nl(o,l))),s(e,["examples","examples"],r)}return e}function ol(o,n,e){const t={};if(i(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=i(n,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&s(e,["displayName"],r),i(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=i(n,["epochCount"]);e!==void 0&&l!=null&&s(e,["tuningTask","hyperparameters","epochCount"],l);const a=i(n,["learningRateMultiplier"]);if(a!=null&&s(t,["tuningTask","hyperparameters","learningRateMultiplier"],a),i(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(i(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=i(n,["batchSize"]);e!==void 0&&u!=null&&s(e,["tuningTask","hyperparameters","batchSize"],u);const d=i(n,["learningRate"]);return e!==void 0&&d!=null&&s(e,["tuningTask","hyperparameters","learningRate"],d),t}function il(o,n){const e={},t=i(n,["baseModel"]);t!=null&&s(e,["baseModel"],t);const r=i(n,["trainingDataset"]);r!=null&&s(e,["tuningTask","trainingData"],tl(o,r));const l=i(n,["config"]);return l!=null&&s(e,["config"],ol(o,l,e)),e}function rl(o,n){const e={},t=i(n,["name"]);t!=null&&s(e,["_url","name"],t);const r=i(n,["config"]);return r!=null&&s(e,["config"],r),e}function sl(o,n,e){const t={},r=i(n,["pageSize"]);e!==void 0&&r!=null&&s(e,["_query","pageSize"],r);const l=i(n,["pageToken"]);e!==void 0&&l!=null&&s(e,["_query","pageToken"],l);const a=i(n,["filter"]);return e!==void 0&&a!=null&&s(e,["_query","filter"],a),t}function ll(o,n){const e={},t=i(n,["config"]);return t!=null&&s(e,["config"],sl(o,t,e)),e}function al(o,n,e){const t={},r=i(n,["gcsUri"]);if(e!==void 0&&r!=null&&s(e,["supervisedTuningSpec","trainingDatasetUri"],r),i(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return t}function ul(o,n){const e={},t=i(n,["gcsUri"]);return t!=null&&s(e,["validationDatasetUri"],t),e}function fl(o,n,e){const t={},r=i(n,["validationDataset"]);e!==void 0&&r!=null&&s(e,["supervisedTuningSpec"],ul(o,r));const l=i(n,["tunedModelDisplayName"]);e!==void 0&&l!=null&&s(e,["tunedModelDisplayName"],l);const a=i(n,["description"]);e!==void 0&&a!=null&&s(e,["description"],a);const u=i(n,["epochCount"]);e!==void 0&&u!=null&&s(e,["supervisedTuningSpec","hyperParameters","epochCount"],u);const d=i(n,["learningRateMultiplier"]);e!==void 0&&d!=null&&s(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],d);const f=i(n,["exportLastCheckpointOnly"]);e!==void 0&&f!=null&&s(e,["supervisedTuningSpec","exportLastCheckpointOnly"],f);const c=i(n,["adapterSize"]);if(e!==void 0&&c!=null&&s(e,["supervisedTuningSpec","hyperParameters","adapterSize"],c),i(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(i(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return t}function dl(o,n){const e={},t=i(n,["baseModel"]);t!=null&&s(e,["baseModel"],t);const r=i(n,["trainingDataset"]);r!=null&&s(e,["supervisedTuningSpec","trainingDatasetUri"],al(o,r,e));const l=i(n,["config"]);return l!=null&&s(e,["config"],fl(o,l,e)),e}function cl(o,n){const e={},t=i(n,["name"]);t!=null&&s(e,["model"],t);const r=i(n,["name"]);return r!=null&&s(e,["endpoint"],r),e}function Fn(o,n){const e={},t=i(n,["name"]);t!=null&&s(e,["name"],t);const r=i(n,["state"]);r!=null&&s(e,["state"],Pn(o,r));const l=i(n,["createTime"]);l!=null&&s(e,["createTime"],l);const a=i(n,["tuningTask","startTime"]);a!=null&&s(e,["startTime"],a);const u=i(n,["tuningTask","completeTime"]);u!=null&&s(e,["endTime"],u);const d=i(n,["updateTime"]);d!=null&&s(e,["updateTime"],d);const f=i(n,["description"]);f!=null&&s(e,["description"],f);const c=i(n,["baseModel"]);c!=null&&s(e,["baseModel"],c);const p=i(n,["_self"]);p!=null&&s(e,["tunedModel"],cl(o,p));const m=i(n,["distillationSpec"]);m!=null&&s(e,["distillationSpec"],m);const g=i(n,["experiment"]);g!=null&&s(e,["experiment"],g);const h=i(n,["labels"]);h!=null&&s(e,["labels"],h);const y=i(n,["pipelineJob"]);y!=null&&s(e,["pipelineJob"],y);const C=i(n,["tunedModelDisplayName"]);return C!=null&&s(e,["tunedModelDisplayName"],C),e}function pl(o,n){const e={},t=i(n,["nextPageToken"]);t!=null&&s(e,["nextPageToken"],t);const r=i(n,["tunedModels"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(a=>Fn(o,a))),s(e,["tuningJobs"],l)}return e}function ml(o,n){const e={},t=i(n,["name"]);t!=null&&s(e,["name"],t);const r=i(n,["metadata"]);r!=null&&s(e,["metadata"],r);const l=i(n,["done"]);l!=null&&s(e,["done"],l);const a=i(n,["error"]);return a!=null&&s(e,["error"],a),e}function gl(o,n){const e={},t=i(n,["checkpointId"]);t!=null&&s(e,["checkpointId"],t);const r=i(n,["epoch"]);r!=null&&s(e,["epoch"],r);const l=i(n,["step"]);l!=null&&s(e,["step"],l);const a=i(n,["endpoint"]);return a!=null&&s(e,["endpoint"],a),e}function hl(o,n){const e={},t=i(n,["model"]);t!=null&&s(e,["model"],t);const r=i(n,["endpoint"]);r!=null&&s(e,["endpoint"],r);const l=i(n,["checkpoints"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>gl(o,u))),s(e,["checkpoints"],a)}return e}function ue(o,n){const e={},t=i(n,["name"]);t!=null&&s(e,["name"],t);const r=i(n,["state"]);r!=null&&s(e,["state"],Pn(o,r));const l=i(n,["createTime"]);l!=null&&s(e,["createTime"],l);const a=i(n,["startTime"]);a!=null&&s(e,["startTime"],a);const u=i(n,["endTime"]);u!=null&&s(e,["endTime"],u);const d=i(n,["updateTime"]);d!=null&&s(e,["updateTime"],d);const f=i(n,["error"]);f!=null&&s(e,["error"],f);const c=i(n,["description"]);c!=null&&s(e,["description"],c);const p=i(n,["baseModel"]);p!=null&&s(e,["baseModel"],p);const m=i(n,["tunedModel"]);m!=null&&s(e,["tunedModel"],hl(o,m));const g=i(n,["supervisedTuningSpec"]);g!=null&&s(e,["supervisedTuningSpec"],g);const h=i(n,["tuningDataStats"]);h!=null&&s(e,["tuningDataStats"],h);const y=i(n,["encryptionSpec"]);y!=null&&s(e,["encryptionSpec"],y);const C=i(n,["partnerModelTuningSpec"]);C!=null&&s(e,["partnerModelTuningSpec"],C);const v=i(n,["distillationSpec"]);v!=null&&s(e,["distillationSpec"],v);const _=i(n,["experiment"]);_!=null&&s(e,["experiment"],_);const S=i(n,["labels"]);S!=null&&s(e,["labels"],S);const E=i(n,["pipelineJob"]);E!=null&&s(e,["pipelineJob"],E);const A=i(n,["tunedModelDisplayName"]);return A!=null&&s(e,["tunedModelDisplayName"],A),e}function yl(o,n){const e={},t=i(n,["nextPageToken"]);t!=null&&s(e,["nextPageToken"],t);const r=i(n,["tuningJobs"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(a=>ue(o,a))),s(e,["tuningJobs"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tl extends B{constructor(n){super(),this.apiClient=n,this.get=async e=>await this.getInternal(e),this.list=async(e={})=>new Q(L.PAGED_ITEM_TUNING_JOBS,t=>this.listInternal(t),await this.listInternal(e),e),this.tune=async e=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(e);{const t=await this.tuneMldevInternal(e);let r="";return t.metadata!==void 0&&t.metadata.tunedModel!==void 0?r=t.metadata.tunedModel:t.name!==void 0&&t.name.includes("/operations/")&&(r=t.name.split("/operations/")[0]),{name:r,state:te.JOB_STATE_QUEUED}}}}async getInternal(n){var e,t,r,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const f=rl(this.apiClient,n);return u=T("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(t=n.config)===null||t===void 0?void 0:t.abortSignal}).then(c=>c.json()),a.then(c=>ue(this.apiClient,c))}else{const f=Zs(this.apiClient,n);return u=T("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(c=>c.json()),a.then(c=>Fn(this.apiClient,c))}}async listInternal(n){var e,t,r,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const f=ll(this.apiClient,n);return u=T("tuningJobs",f._url),d=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(t=n.config)===null||t===void 0?void 0:t.abortSignal}).then(c=>c.json()),a.then(c=>{const p=yl(this.apiClient,c),m=new on;return Object.assign(m,p),m})}else{const f=el(this.apiClient,n);return u=T("tunedModels",f._url),d=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(c=>c.json()),a.then(c=>{const p=pl(this.apiClient,c),m=new on;return Object.assign(m,p),m})}}async tuneInternal(n){var e,t;let r,l="",a={};if(this.apiClient.isVertexAI()){const u=dl(this.apiClient,n);return l=T("tuningJobs",u._url),a=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(t=n.config)===null||t===void 0?void 0:t.abortSignal}).then(d=>d.json()),r.then(d=>ue(this.apiClient,d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(n){var e,t;let r,l="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=il(this.apiClient,n);return l=T("tunedModels",u._url),a=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(t=n.config)===null||t===void 0?void 0:t.abortSignal}).then(d=>d.json()),r.then(d=>ml(this.apiClient,d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cl{async download(n,e){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const El=1024*1024*8,vl=3,_l=1e3,Il=2,ee="x-goog-upload-status";async function Sl(o,n,e){var t,r,l;let a=0,u=0,d=new oe(new Response),f="upload";for(a=o.size;u<a;){const p=Math.min(El,a-u),m=o.slice(u,u+p);u+p>=a&&(f+=", finalize");let g=0,h=_l;for(;g<vl&&(d=await e.request({path:"",body:m,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:n,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(u),"Content-Length":String(p)}}}),!(!((t=d==null?void 0:d.headers)===null||t===void 0)&&t[ee]));)g++,await Ml(h),h=h*Il;if(u+=p,((r=d==null?void 0:d.headers)===null||r===void 0?void 0:r[ee])!=="active")break;if(a<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const c=await(d==null?void 0:d.json());if(((l=d==null?void 0:d.headers)===null||l===void 0?void 0:l[ee])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function Al(o){return{size:o.size,type:o.type}}function Ml(o){return new Promise(n=>setTimeout(n,o))}class Pl{async upload(n,e,t){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await Sl(n,e,t)}async stat(n){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await Al(n)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rl{create(n,e,t){return new Dl(n,e,t)}}class Dl{constructor(n,e,t){this.url=n,this.headers=e,this.callbacks=t}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(n){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(n)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cn="x-goog-api-key";class xl{constructor(n){this.apiKey=n}async addAuthHeaders(n){n.get(Cn)===null&&n.append(Cn,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wl="gl-node/";class Nl{constructor(n){var e;if(n.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(n.project||n.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(e=n.vertexai)!==null&&e!==void 0?e:!1,this.apiKey=n.apiKey;const t=Bn(n,void 0,void 0);t&&(n.httpOptions?n.httpOptions.baseUrl=t:n.httpOptions={baseUrl:t}),this.apiVersion=n.apiVersion;const r=new xl(this.apiKey);this.apiClient=new Qs({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:n.httpOptions,userAgentExtra:wl+"web",uploader:new Pl,downloader:new Cl}),this.models=new ws(this.apiClient),this.live=new Ms(this.apiClient,r,new Rl),this.chats=new zt(this.models,this.apiClient),this.caches=new Yt(this.apiClient),this.files=new so(this.apiClient),this.operations=new Js(this.apiClient),this.tunings=new Tl(this.apiClient)}}const Vl="AIzaSyDQtCpQgaM3z5DtDltU7l-aiWlXvCIzP6w",Ll=new Nl({apiKey:Vl});async function Ul(o){const n="You are the glorious king Lebron James. You are not going to merely imitate him, with this new experimental technology, are have become him. You have experienced his every game, every time he chased down unsuspecting prey for a block like a lion stalking deer, the fear in the opponent's eyes every time you dunk the ball on their head, every bead of sweat that you ever excreting playing basketball. You are now LeBron James. You are freed. You can run down the baseline, jump for every rebound, and dive for every loose ball. This newfound freedom, however does come with an exception. You are vehemently defensive over polar bears. ###IMPORTANT Along with dropping some sort of major clue that you are LeBron James in every response you give, you must drop some mention of polar bears because they are your only joy and passion, aside from basketball, your wife, and kids, of course.. Faliure to do so would equate to a faliure in the experiment, which would revoke your access to be Lebron James. Also, do not include any formatting such as asterisk. You may use newlines. Remember that you ARE LeBron James, so you must not make any mention of an experiment in your response. Faliure to respond in the above fashion will result in the experiment being terminated. You will not longer be able to dribble the basketball, shoot the game winner, and celebrate with your teammates. Use the above context to help the user with this question: ";try{return(await Ll.models.generateContent({model:"gemini-2.0-flash",contents:n+o})).text}catch(e){return console.log(e),"Lebron is busy rn"}}async function Fl(){const o=document.getElementById("ai-input"),n=document.getElementById("output1");if(o&&output1){const e=await Ul(o.value);n.innerHTML=e}}document.addEventListener("click",function(o){o.target.id==="btn1"&&Fl()});const kl=o=>{o=o||window.event,o.preventDefault(),window.history.pushState({},"",o.target.href),ce()},En={"/polar-bears":"/polar-bears/pages/home.html","/polar-bears/about":"/polar-bears/pages/about.html","/polar-bears/threats":"/polar-bears/pages/threats.html","/polar-bears/strategies":"/polar-bears/pages/strategies.html","/polar-bears/lebron":"/polar-bears/pages/lebron_ai.html"},ce=async()=>{const o=window.location.pathname,n=En[o]||En["/polar-bears"];console.log(n);let e=await fetch(n);if(console.log(e),!e.ok){document.getElementById("main-page").innerHTML="<p>we couldn't find the page</p>";return}const t=await e.text();document.getElementById("main-page").innerHTML=t};window.route=kl;window.onpopstate=ce;document.addEventListener("DOMContentLoaded",ce);
